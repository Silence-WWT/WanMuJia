var AddressList=React.createClass({displayName:"AddressList",getInitialState:function(){return{nowAddress:null,isWrapShow:!1}},handleBtnClick:function(){this.setState({isWrapShow:!this.state.isWrapShow})},handleSelectAddress:function(t){this.setState({nowAddress:t,isWrapShow:!1}),this.props.setCity&&this.props.setCity(t)},render:function(){return React.createElement("div",{className:"AddressList"},React.createElement(AddressDropButton,{triangleState:this.state.isWrapShow,onClick:this.handleBtnClick},this.state.nowAddress?this.state.nowAddress:this.props.localAddress),this.state.isWrapShow?React.createElement(AddressWrap,{addressData:this.props.addressData,localAddress:this.props.localAddress,handleSelectAddress:this.handleSelectAddress}):null)}}),AddressDropButton=React.createClass({displayName:"AddressDropButton",handleClick:function(){this.props.onClick()},render:function(){return React.createElement("button",{className:"AddressDropButton",onClick:this.handleClick},this.props.children,React.createElement("span",{className:"triangle "+this.props.triangleState}))}}),AddressWrap=React.createClass({displayName:"AddressWrap",render:function(){return React.createElement("div",{className:"AddressWrap"},React.createElement("div",{className:"AddressCont"},React.createElement(AddressLocation,{localAddress:this.props.localAddress,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressSearchInput,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressListWrap,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress})))}}),AddressLocation=React.createClass({displayName:"AddressLocation",handleClick:function(){this.props.handleSelectAddress(this.props.localAddress)},render:function(){return React.createElement("div",{className:"AddressLocation"},"猜你在：",React.createElement("span",{onClick:this.handleClick},this.props.localAddress))}}),AddressSearchInput=React.createClass({displayName:"AddressSearchInput",getInitialState:function(){return{result:[]}},handleResultClick:function(t){var e=t.target.getAttribute("data");this.props.handleSelectAddress(e)},handleSearch:function(t){var e=t.target.value,s=e.length,a=this.props.addressData,i=/^[\u4E00-\u9FA5]+$/;if(i.test(e)){var r=[],n=0;for(var o in a)for(var p in a[o])a[o][p].city.substring(0,s)==e&&(r[n]=a[o][p].city,n++);return void this.setState({result:r})}var c=e.substring(0,1).toLocaleUpperCase(),d=a[c],l=[],h=0;for(var u in d)u.substring(0,s)==e.toLocaleLowerCase()&&(l[h]=d[u].city),h++;this.setState({result:l})},render:function(){var t=this.handleResultClick,e=this.state.result.map(function(e){return React.createElement("li",{data:e,onClick:t},e)});return React.createElement("div",{className:"AddressSearch"},"直接搜索",React.createElement("input",{onChange:this.handleSearch,placeholder:"请输入城市名"}),React.createElement("ul",{className:"AddressSearchResult"},e))}}),AddressListWrap=React.createClass({displayName:"AddressListWrap",render:function(){var t=this.props.addressData,e=this.props.handleSelectAddress,s=function(t){var s=[],a=0;for(var i in t)s[a]=React.createElement(AddressListRow,{key:i,keyData:i,data:t[i],handleSelectAddress:e}),a++;return s}(t);return React.createElement("div",{className:"AddressListWrap"},s)}}),AddressListRow=React.createClass({displayName:"AddressListRow",handleClick:function(t){var e=t.target.getAttribute("data");this.props.handleSelectAddress(e)},render:function(){var t=this.handleClick,e=function(e){var s=[],a=0;for(var i in e)s[a]=React.createElement("span",{key:"p"+i},React.createElement("span",{data:e[i].city,key:a,onClick:t},e[i].city)),a++;return s}(this.props.data);return React.createElement("div",{className:"AddressListRow"},React.createElement("span",{className:"keyData"},this.props.keyData),React.createElement("span",{className:"dataWrap"},e))}}),AddressPicker=React.createClass({displayName:"AddressPicker",getInitialState:function(){return{city:"北京",currentCity:null,address:this.props.keyword}},getDefaultProps:function(){return{}},componentWillMount:function(){var t=new BMap.LocalCity;t.get(function(t){var e=t.name;this.setState({currentCity:e})}.bind(this))},setAddress:function(t){this.setState({address:t})},setCity:function(t){this.setState({city:t})},render:function(){var t=this.state.address?this.props.addressPickerActiveStyle:{};return React.createElement("div",{className:"address-picker",style:t},React.createElement(AddressList,{setCity:this.setCity,localAddress:this.state.currentCity,addressData:this.props.addressData}),React.createElement(AddressInput,React.__spread({},this.props,{city:this.state.city,searchSubmitHandler:this.setAddress})),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city,theme:this.props.theme,lbs:this.props.lbs}))}}),AddressSearch=React.createClass({displayName:"AddressSearch",getInitialState:function(){return{address:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京",theme:"dark"}},componentWillMount:function(){var t=new BMap.LocalCity;t.get(function(t){var e=t.name;this.setCity(e)}.bind(this))},setAddress:function(t){this.setState({address:t})},setCity:function(t){this.setState({city:t})},render:function(){return React.createElement("div",{className:"address-search"},React.createElement(AddressInput,React.__spread({},this.props,{searchSubmitHandler:this.setAddress})),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city,theme:this.props.theme}))}}),AddressInput=React.createClass({displayName:"AddressInput",getInitialState:function(){return{keyword:this.props.keyword}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京",theme:"light"}},searchSubmit:function(){var t=this.getDOMNode().children[0].value;this.props.searchSubmitHandler(t),setCookie("searchKeyword",t,30)},checkEnter:function(t){13===t.keyCode&&this.searchSubmit()},componentDidMount:function(){new BMap.Autocomplete({input:"_addressSearchKeyword",location:this.props.city})},render:function(){var t={width:this.props.inputWidth},e="address-input";switch(this.props.theme){case"light":break;case"dark":e+=" dark"}return React.createElement("div",{className:e},React.createElement("input",{className:"input-keyword",id:"_addressSearchKeyword",onKeyUp:this.checkEnter,placeholder:this.state.keyword||this.props.inputTip,style:t}),React.createElement("button",{className:"input-commit",onClick:this.searchSubmit},this.props.searchBtnText))}}),AddressMap=React.createClass({displayName:"AddressMap",getInitialState:function(){return{mapLocalObj:null,itemsNumber:0,itemsList:[],itemActive:0}},componentDidMount:function(){this.map=new BMap.Map("_addressMapMain",{enableMapClick:!1}),this.map.centerAndZoom(this.props.city,12)},componentWillReceiveProps:function(t){t.addressKeyword&&this.getNearby(t.addressKeyword)},getNearby:function(t,e){var s=new BMap.Geocoder,a=this;s.getPoint(t,function(t){t?$.ajax({type:"get",url:"http://api.map.baidu.com/geosearch/v3/nearby",dataType:"jsonp",data:{ak:a.props.lbs.ak,geotable_id:a.props.lbs.geotableId,location:t.lng+","+t.lat,radius:a.props.lbs.radius,filter:a.props.lbs.filter,page_index:a.props.lbs.page||0,page_size:50},jsonp:"callback",success:function(t){a.setState({itemsNumber:t.total,itemsList:t.contents}),a.showNearby(),a.map.centerAndZoom(a.props.addressKeyword,12)}}):console.log("未找到该区域信息")}.bind(this),this.props.city)},showNearby:function(){var t=this;for(var e in this.state.itemsList){var s=new BMap.Point(this.state.itemsList[e].location[0],this.state.itemsList[e].location[1]),a=new BMap.Marker(s),i=new BMap.Label(String.fromCharCode(65+parseInt(e)),{offset:new BMap.Size(4,2)});i.setStyle({border:"none",backgroundColor:"transparent",color:"#FAFAFA"}),a.setLabel(i),a.setTitle(this.state.itemsList[e].title),a.addEventListener("click",function(e){t.showInfoWindow(this.getLabel().content.charCodeAt(0)-65)}),this.map.addOverlay(a)}this.state.itemsList.length&&this.showInfoWindow(0)},showInfoWindow:function(t){if(t!==this.state.itemActive,!0){var e=new BMap.Point(this.state.itemsList[t].location[0],this.state.itemsList[t].location[1]),s=this.state.itemsList[t],a=s.title,i=s.address,r=(s.tel,'<p class="map-info-window">地址：'+i+"</p>"),n=new BMap.InfoWindow(r,{title:a,width:290,panel:"panel",enableAutoPan:!0,offset:new BMap.Size(0,-25)});this.setState({itemActive:+t}),this.map.openInfoWindow(n,e)}},clickMapItem:function(t){var e=t.target,s=e.getAttribute("class"),a=0;a="map-item"===s?e.getAttribute("data-key"):"map-item-mark"===s||"map-item-main"===s?e.parentNode.getAttribute("data-key"):s?e.parentNode.parentNode.getAttribute("data-key"):e.parentNode.parentNode.parentNode.getAttribute("data-key"),this.showInfoWindow(a)},render:function(){var t="address-map";switch(this.props.theme){case"light":break;case"dark":t+=" dark"}var e={backgroundColor:"#181211"};return React.createElement("div",{className:t,style:{display:this.props.addressKeyword?"block":"none"}},React.createElement("div",{className:"map-nav"},React.createElement("div",{className:"map-nav-title"},"附近有",React.createElement("span",{className:"map-nav-number"},this.state.itemsNumber),"家体验店"),React.createElement("ul",{className:"map-items",id:"_addressMapItems",onClick:this.clickMapItem},this.state.itemsList.map(function(t,s){return React.createElement("li",{className:"map-item","data-key":s,key:s,style:s===this.state.itemActive?e:{}},React.createElement("span",{className:"map-item-mark"},String.fromCharCode(65+s)),React.createElement("div",{className:"map-item-main"},React.createElement("div",{className:"map-item-title"},t.title),React.createElement("div",{className:"map-item-address"},"地址：",t.address),React.createElement("div",{className:"map-item-tel"},"电话：",t.tel)))}.bind(this)))),React.createElement("div",{className:"map-main",id:"_addressMapMain"}))}}),PaginationBtn=React.createClass({displayName:"PaginationBtn",getDefaultProps:function(){return{text:1,type:"num"}},render:function(){var t="dot"===this.props.type?"...":this.props.text,e=this.props.active?"item active":"item";return"num"!==this.props.type&&(e+=" page "+this.props.type),this.props.disabled&&(e+=" disabled"),React.createElement("li",{className:e,onClick:this.props.changePage},React.createElement("a",null,t))}}),Pagination=React.createClass({displayName:"Pagination",getInitialState:function(){return{activePage:this.props.activePage||1,pageItems:this.getPageItems(1)}},getDefaultProps:function(){return{first:null,prev:"上一页",basePages:2,midPages:5,ellipsis:!0,next:"下一页",last:"末页",theme:"light",selected:function(t){console.log(t)}}},handleItemClick:function(t,e){e="first"===t?1:"prev"===t?1===this.state.activePage?1:this.state.activePage-1:"next"===t?this.state.activePage===this.props.pages?this.props.pages:this.state.activePage+1:"last"===t?this.props.pages:e;var s=this.getPageItems(e);e!==this.state.activePage&&(this.setState({activePage:e,pageItems:s}),this.props.selected(e))},getPageItems:function(t){var e=[],s=this.props.basePages,a=this.props.midPages,i=this.props.pages;return t<=parseInt(a/2)+1?e=this._getSeriesNumber(1,s+a>=i?i:a):t<=parseInt(a/2)+1+s||s+a>=i?e=this._getSeriesNumber(1,s+a>=i?i:t+2):t<i-parseInt(a/2)-1?(e=this._getSeriesNumber(1,this.props.basePages),e.push("e"),e=e.concat(this._getSeriesNumber(t-2,a)),i>a+s+2&&e.push("e")):t===i-parseInt(a/2)-1?(e=this._getSeriesNumber(1,this.props.basePages),e.push("e"),e=e.concat(this._getSeriesNumber(i-a,a+1))):(e=this._getSeriesNumber(1,this.props.basePages),e.push("e"),e=e.concat(this._getSeriesNumber(i-a+1,a))),e},_getSeriesNumber:function(t,e){t=t||1,e=e||5;for(var s=[];e--;)s.push(t++);return s},render:function(){var t=(this.getPageItems(this.state.activePage),[]),e=[];return this.props.first&&t.push(React.createElement(PaginationBtn,{text:this.props.first,disabled:1===this.state.activePage?!0:!1,type:"prev",type:"first",changePage:this.handleItemClick.bind(this,"first")})),this.props.prev&&t.push(React.createElement(PaginationBtn,{text:this.props.prev,disabled:1===this.state.activePage?!0:!1,type:"prev",changePage:this.handleItemClick.bind(this,"prev")})),this.props.next&&e.push(React.createElement(PaginationBtn,{text:this.props.next,type:"next",disabled:this.state.activePage===this.props.pages?!0:!1,changePage:this.handleItemClick.bind(this,"next")})),this.props.last&&e.push(React.createElement(PaginationBtn,{text:this.props.last,type:"last",disabled:this.state.activePage===this.props.pages?!0:!1,changePage:this.handleItemClick.bind(this,"last")})),React.createElement("ul",{className:"pagination"},t,this.state.pageItems.map(function(t,e){return React.createElement(PaginationBtn,{text:t,type:"e"===t?"dot":"num",active:t===this.state.activePage?!0:!1,changePage:"e"===t?null:this.handleItemClick.bind(this,"num",t),key:e})}.bind(this)),e)}}),Spinner=React.createClass({displayName:"Spinner",render:function(){return React.createElement("div",{className:"cu-spinner"})}}),ProgressBar=React.createClass({displayName:"ProgressBar",getInitialState:function(){return{rate:null,done:!1}},getDefaultProps:function(){return{speed:.6,spinner:!0,easing:"ease",maxRate:.96,incStep:.04,minStep:.005,maxStep:.03,trickle:!0,trickleSpeed:800,setTrickle:!1}},start:function(){this._init(),this.set("0.5%"),this.props.trickle&&this._autoInc()},set:function(t,e){!e&&this._init(),t=this._format(t),100===t?this.setState({rate:100}):(t=t>100*this.props.maxRate?100*this.props.maxRate:t,this.setState({rate:t}))},inc:function(t){this._init(),this.props.trickle&&this._autoInc(),t=t?this._format(t):100*this.props.incStep;var e=this.state.rate+t;this.set(e+"%",!0)},done:function(){this.set("100%"),setTimeout(function(){this.setState({done:!0}),setTimeout(function(){this.setState({rate:null})}.bind(this),2*this.props.speed*1e3)}.bind(this),1e3*this.props.speed)},_format:function(t){return"number"==typeof t?t>1?100*this.pros.maxRate:100*t:"string"==typeof t?parseFloat(t)>100?100*this.props.maxRate:parseFloat(t):void 0},_init:function(){this.state.done&&this.setState({done:!1}),this.timer&&this._clearInterval()},_autoInc:function(){var t,e;this.timer=setInterval(function(){return e=this._getRadomStep(),t=this.state.rate+e,console.log(e),t>100*this.props.maxRate?(console.log(100*this.props.maxRate),void this._clearInterval()):(console.log(t),void this.set(t+"%",!0))}.bind(this),this.props.trickleSpeed)},_clearInterval:function(){this.timer&&clearInterval(this.timer)},_getRadomStep:function(t,e){return t=t||100*this.props.minStep,e=e||100*this.props.maxStep,Math.random()*(e-t)+t},render:function(){var t={opacity:this.state.done?0:1,transition:"opacity "+2*this.props.speed+"s "+this.props.easing},e={width:this.state.rate?this.state.rate+"%":0,transition:"width "+this.props.speed+"s "+this.props.easing};return this.state.rate?React.createElement("div",{className:"cu-progress",style:t},React.createElement("div",{className:"cu-progress-bar",style:e}),this.props.spinner?React.createElement(Spinner,null):null):null}}),ToolTip=React.createClass({displayName:"ToolTip",getDefaultProps:function(){return{tip:"tip",trigger:"hover",delay:0,hoverable:!1,position:"tip",width:"200px",type:"span",aHref:"#"}},getInitialState:function(){return{position:this.props.position,isActive:!1,isOnTip:!1,tipHeight:""}},handleMouseOver:function(t){"hover"==this.props.trigger&&this.setState({isActive:!0})},handleMouseOut:function(t){"hover"==this.props.trigger&&setTimeout(function(){return this.state.isOnTip?!1:void this.setState({isActive:!1})}.bind(this),this.props.delay)},handleClick:function(t){"click"==this.props.trigger&&(this.state.isActive?this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0}))},handleTipMouseOver:function(t){this.props.hoverable&&(this.setState({isOnTip:!0}),this.setState({isActive:!0}))},handleTipMouseOut:function(t){this.props.hoverable&&(this.setState({isOnTip:!1}),this.setState({isActive:!1}))},componentDidUpdate:function(){this.setTipPosition()},setTipPosition:function(){var t=this.refs.tip.getDOMNode(),e=this.refs.cont.getDOMNode();this.flag||(this.state.tipHeight=t.offsetHeight,this.flag=1);var s=t.offsetWidth,a=t.offsetHeight,i=e.offsetWidth,r=e.offsetHeight;switch(this.state.position){case"left":t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px";break;case"right":t.style.top=-(a-r)/2+"px",t.style.left="100%";break;case"top":t.style.left=-(s-i)/2+"px",t.style.bottom="100%";break;case"bottom":t.style.left=-(s-i)/2+"px",t.style.top="100%";break;default:t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px"}t.style.height=this.state.tipHeight-20+"px",this.prevertTipOverflow()},prevertTipOverflow:function(){var t=this.refs.tip.getDOMNode().getBoundingClientRect().left,e=(this.refs.tip.getDOMNode().getBoundingClientRect().top,this.refs.tip.getDOMNode().offsetWidth),s=(this.refs.tip.getDOMNode().offsetHeight,parseInt(document.body.clientWidth));if(0>t&&t+e>s)return!0;if(0>t){if("left"==this.state.position)return void this.setState({position:"top"});if("top"==this.state.position||"bottom"==this.state.position)return void this.setState({position:"right"})}if(t+e>s){if("right"==this.state.position)return void this.setState({position:"bottom"});if("bottom"==this.state.position||"top"==this.state.position)return void this.setState({position:"left"})}},getTipStyle:function(){return{display:this.state.isActive?"block":"none",color:"pink",backgroundColor:"#333",width:this.props.width}},render:function(){return"span"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("span",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"a"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("a",{href:this.props.aHref,ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"button"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("button",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):void 0}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3NMaXN0L0FkZHJlc3NMaXN0LmpzeCIsIkFkZHJlc3NQaWNrZXIvQWRkcmVzc1BpY2tlci5qc3giLCJBZGRyZXNzU2VhcmNoL0FkZHJlc3NTZWFyY2guanN4IiwiUGFnaW5hdGlvbi9QYWdpbmF0aW9uLmpzeCIsIlByb2dyZXNzQmFyL1Byb2dyZXNzQmFyLmpzeCIsIlRvb2x0aXAvVG9vbHRpcC5qc3giXSwibmFtZXMiOlsiQWRkcmVzc0xpc3QiLCJSZWFjdCIsImNyZWF0ZUNsYXNzIiwiZGlzcGxheU5hbWUiLCJnZXRJbml0aWFsU3RhdGUiLCJub3dBZGRyZXNzIiwiaXNXcmFwU2hvdyIsImhhbmRsZUJ0bkNsaWNrIiwidGhpcyIsInNldFN0YXRlIiwic3RhdGUiLCJoYW5kbGVTZWxlY3RBZGRyZXNzIiwic2VsZWN0Q3QiLCJwcm9wcyIsInNldENpdHkiLCJyZW5kZXIiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiQWRkcmVzc0Ryb3BCdXR0b24iLCJ0cmlhbmdsZVN0YXRlIiwib25DbGljayIsImxvY2FsQWRkcmVzcyIsIkFkZHJlc3NXcmFwIiwiYWRkcmVzc0RhdGEiLCJoYW5kbGVDbGljayIsImNoaWxkcmVuIiwiQWRkcmVzc0xvY2F0aW9uIiwiQWRkcmVzc1NlYXJjaElucHV0IiwiQWRkcmVzc0xpc3RXcmFwIiwicmVzdWx0IiwiaGFuZGxlUmVzdWx0Q2xpY2siLCJlIiwiYWRkcmVzcyIsInRhcmdldCIsImdldEF0dHJpYnV0ZSIsImhhbmRsZVNlYXJjaCIsImV2ZW50IiwiY29udCIsInZhbHVlIiwibGVuIiwibGVuZ3RoIiwicmVnIiwidGVzdCIsIl9yZXN1bHRIIiwiaiIsImtleUgiLCJrZXlIUyIsImNpdHkiLCJzdWJzdHJpbmciLCJGTCIsInRvTG9jYWxlVXBwZXJDYXNlIiwicmVzdWx0RkwiLCJfcmVzdWx0IiwiaSIsImtleSIsInRvTG9jYWxlTG93ZXJDYXNlIiwiX2hhbmRsZVJlc3VsdENsaWNrIiwicmVzdWx0Tm9kZXMiLCJtYXAiLCJkYXRhIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsInJvd05vZGVzIiwiQWRkcmVzc0xpc3RSb3ciLCJrZXlEYXRhIiwiZGF0YU5vZGVzIiwiQWRkcmVzc1BpY2tlciIsImN1cnJlbnRDaXR5Iiwia2V5d29yZCIsImdldERlZmF1bHRQcm9wcyIsImNvbXBvbmVudFdpbGxNb3VudCIsIm15Q2l0eSIsIkJNYXAiLCJMb2NhbENpdHkiLCJnZXQiLCJyZXMiLCJuYW1lIiwiYmluZCIsInNldEFkZHJlc3MiLCJhZCIsImN0IiwiYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlIiwic3R5bGUiLCJBZGRyZXNzSW5wdXQiLCJfX3NwcmVhZCIsInNlYXJjaFN1Ym1pdEhhbmRsZXIiLCJBZGRyZXNzTWFwIiwiYWRkcmVzc0tleXdvcmQiLCJ0aGVtZSIsImxicyIsIkFkZHJlc3NTZWFyY2giLCJpbnB1dFdpZHRoIiwiaW5wdXRUaXAiLCJzZWFyY2hCdG5UZXh0Iiwic2VhcmNoU3VibWl0IiwiZ2V0RE9NTm9kZSIsInNldENvb2tpZSIsImNoZWNrRW50ZXIiLCJrZXlDb2RlIiwiY29tcG9uZW50RGlkTW91bnQiLCJBdXRvY29tcGxldGUiLCJpbnB1dCIsImxvY2F0aW9uIiwia2V5d29yZFN0eWxlIiwid2lkdGgiLCJjb25DbGFzc05hbWUiLCJpZCIsIm9uS2V5VXAiLCJtYXBMb2NhbE9iaiIsIml0ZW1zTnVtYmVyIiwiaXRlbXNMaXN0IiwiaXRlbUFjdGl2ZSIsIk1hcCIsImVuYWJsZU1hcENsaWNrIiwiY2VudGVyQW5kWm9vbSIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0UHJvcHMiLCJnZXROZWFyYnkiLCJwYWdlIiwibXlHZW8iLCJHZW9jb2RlciIsIl90aGlzIiwiZ2V0UG9pbnQiLCJwb2ludCIsIiQiLCJhamF4IiwidHlwZSIsInVybCIsImRhdGFUeXBlIiwiYWsiLCJnZW90YWJsZV9pZCIsImdlb3RhYmxlSWQiLCJsbmciLCJsYXQiLCJyYWRpdXMiLCJmaWx0ZXIiLCJwYWdlX2luZGV4IiwicGFnZV9zaXplIiwianNvbnAiLCJzdWNjZXNzIiwidG90YWwiLCJjb250ZW50cyIsInNob3dOZWFyYnkiLCJjb25zb2xlIiwibG9nIiwiayIsIlBvaW50IiwibWFya2VyIiwiTWFya2VyIiwibGFiZWwiLCJMYWJlbCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInBhcnNlSW50Iiwib2Zmc2V0IiwiU2l6ZSIsInNldFN0eWxlIiwiYm9yZGVyIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJzZXRMYWJlbCIsInNldFRpdGxlIiwidGl0bGUiLCJhZGRFdmVudExpc3RlbmVyIiwic2hvd0luZm9XaW5kb3ciLCJnZXRMYWJlbCIsImNvbnRlbnQiLCJjaGFyQ29kZUF0IiwiYWRkT3ZlcmxheSIsImluZGV4IiwiaXRlbUluZm8iLCJ0ZWwiLCJpbmZvV2luZG93IiwiSW5mb1dpbmRvdyIsInBhbmVsIiwiZW5hYmxlQXV0b1BhbiIsIm9wZW5JbmZvV2luZG93IiwiY2xpY2tNYXBJdGVtIiwiZWxlIiwiZWxlQ2xhc3MiLCJpdGVtSW5kZXgiLCJwYXJlbnROb2RlIiwibWFwSXRlbUFjdGllU3R5bGUiLCJkaXNwbGF5IiwiaXRlbSIsImRhdGEta2V5IiwiUGFnaW5hdGlvbkJ0biIsInRleHQiLCJpdGVtQ2xhc3MiLCJhY3RpdmUiLCJkaXNhYmxlZCIsImNoYW5nZVBhZ2UiLCJQYWdpbmF0aW9uIiwiYWN0aXZlUGFnZSIsInBhZ2VJdGVtcyIsImdldFBhZ2VJdGVtcyIsImZpcnN0IiwicHJldiIsImJhc2VQYWdlcyIsIm1pZFBhZ2VzIiwiZWxsaXBzaXMiLCJuZXh0IiwibGFzdCIsInNlbGVjdGVkIiwiaGFuZGxlSXRlbUNsaWNrIiwicGFnZXMiLCJuIiwibGlzdCIsImIiLCJtIiwicCIsIl9nZXRTZXJpZXNOdW1iZXIiLCJwdXNoIiwiY29uY2F0Iiwic3RhcnQiLCJzZXJpZXMiLCJzdGFydEJsb2NrIiwiZW5kQmxvY2siLCJTcGlubmVyIiwiUHJvZ3Jlc3NCYXIiLCJyYXRlIiwiZG9uZSIsInNwZWVkIiwic3Bpbm5lciIsImVhc2luZyIsIm1heFJhdGUiLCJpbmNTdGVwIiwibWluU3RlcCIsIm1heFN0ZXAiLCJ0cmlja2xlIiwidHJpY2tsZVNwZWVkIiwic2V0VHJpY2tsZSIsIl9pbml0Iiwic2V0IiwiX2F1dG9JbmMiLCJfZm9ybWF0IiwiaW5jIiwibmV3UmF0ZSIsInNldFRpbWVvdXQiLCJwcm9zIiwicGFyc2VGbG9hdCIsInRpbWVyIiwiX2NsZWFySW50ZXJ2YWwiLCJyYW5kb20iLCJzZXRJbnRlcnZhbCIsIl9nZXRSYWRvbVN0ZXAiLCJjbGVhckludGVydmFsIiwibWluIiwibWF4IiwiTWF0aCIsInByb2dyZXNzU3R5bGUiLCJvcGFjaXR5IiwidHJhbnNpdGlvbiIsImJhclN0eWxlIiwiVG9vbFRpcCIsInRpcCIsInRyaWdnZXIiLCJkZWxheSIsImhvdmVyYWJsZSIsInBvc2l0aW9uIiwiYUhyZWYiLCJpc0FjdGl2ZSIsImlzT25UaXAiLCJ0aXBIZWlnaHQiLCJoYW5kbGVNb3VzZU92ZXIiLCJoYW5kbGVNb3VzZU91dCIsImhhbmRsZVRpcE1vdXNlT3ZlciIsImhhbmRsZVRpcE1vdXNlT3V0IiwiY29tcG9uZW50RGlkVXBkYXRlIiwic2V0VGlwUG9zaXRpb24iLCJyZWZzIiwiZmxhZyIsIm9mZnNldEhlaWdodCIsInRpcFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJjb250V2lkdGgiLCJjb250SGVpZ2h0IiwidG9wIiwibGVmdCIsImJvdHRvbSIsImhlaWdodCIsInByZXZlcnRUaXBPdmVyZmxvdyIsInRpcFgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhdmFpbFdpZHRoIiwiZG9jdW1lbnQiLCJib2R5IiwiY2xpZW50V2lkdGgiLCJnZXRUaXBTdHlsZSIsInJlZiIsIm9uTW91c2VPdmVyIiwib25Nb3VzZU91dCIsImhyZWYiXSwibWFwcGluZ3MiOiJBQUNBLEdBQUlBLGFBQUFDLE1BQUFDLGFBQWlDQyxZQUFBLGNBQ2pDQyxnQkFBaUIsV0FDYixPQUNJQyxXQUFZLEtBQ1pDLFlBQVksSUFHcEJD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UixlQUFZeFIsS0FBV0ssTUFBS2tQLE1BSTdILFVBQWpCdlAsS0FBS0ssTUFBTWlILEtBRU43SCxNQUFBZSxjQUFBLFFBQUtDLFVBQUMsV0FBV1QsS0FBV0UsTUFBS3lQLFVBQzdCbFEsTUFBQWUsY0FBQSxVQUFPaVIsSUFBQyxPQUFJQyxZQUFPMVIsS0FBYWdRLGdCQUFLMkIsV0FBaUIzUixLQUFVaVEsZUFBT3JQLFFBQWdCWixLQUFBZ0IsYUFBY2hCLEtBQWFLLE1BQUNZLFVBQ25IeEIsTUFBQWUsY0FBQSxPQUFJa1IsWUFBQzFSLEtBQWFrUSxtQkFBdUJ5QixXQUFFM1IsS0FBWW1RLGtCQUFLMVAsVUFBbUIsTUFBVWdSLElBQUEsTUFBUy9NLE1BQUMxRSxLQUFNd1IsZUFBWXhSLEtBQVdLLE1BQUtrUCxNQUpqSiIsImZpbGUiOiJDaGFybS1VSS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIOaVtOS9k+e7hOS7tlxyXG52YXIgQWRkcmVzc0xpc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5vd0FkZHJlc3M6IG51bGwsXHJcbiAgICAgICAgICAgIGlzV3JhcFNob3c6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVCdG5DbGljazogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNXcmFwU2hvdzogIXRoaXMuc3RhdGUuaXNXcmFwU2hvd30pO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZVNlbGVjdEFkZHJlc3M6IGZ1bmN0aW9uKHNlbGVjdEN0KSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bm93QWRkcmVzczogc2VsZWN0Q3QsaXNXcmFwU2hvdzogZmFsc2V9KTtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnNldENpdHkpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXRDaXR5KHNlbGVjdEN0KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMaXN0XCI+XHJcbiAgICAgICAgICAgICAgICA8QWRkcmVzc0Ryb3BCdXR0b24gdHJpYW5nbGVTdGF0ZT17dGhpcy5zdGF0ZS5pc1dyYXBTaG93fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUJ0bkNsaWNrfT5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5ub3dBZGRyZXNzP3RoaXMuc3RhdGUubm93QWRkcmVzczp0aGlzLnByb3BzLmxvY2FsQWRkcmVzc31cclxuICAgICAgICAgICAgICAgIDwvQWRkcmVzc0Ryb3BCdXR0b24+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc1dyYXBTaG93P1xyXG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzV3JhcCBhZGRyZXNzRGF0YT17dGhpcy5wcm9wcy5hZGRyZXNzRGF0YX0gbG9jYWxBZGRyZXNzPXt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc30gaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5oYW5kbGVTZWxlY3RBZGRyZXNzfS8+XHJcbiAgICAgICAgICAgICAgICAgICAgOm51bGxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDkuIvmi4nmjInpkq5cclxudmFyIEFkZHJlc3NEcm9wQnV0dG9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25DbGljaygpO1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJBZGRyZXNzRHJvcEJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9PlxyXG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widHJpYW5nbGUgXCIrdGhpcy5wcm9wcy50cmlhbmdsZVN0YXRlfT48L3NwYW4+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5Zyw5Z2A5pON5L2c5qGG5a655ZmoXHJcbnZhciBBZGRyZXNzV3JhcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzV3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzQ29udFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzTG9jYXRpb24gbG9jYWxBZGRyZXNzPXt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc30gaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzU2VhcmNoSW5wdXQgYWRkcmVzc0RhdGE9e3RoaXMucHJvcHMuYWRkcmVzc0RhdGF9IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzc30gLz5cclxuICAgICAgICAgICAgICAgICAgICA8QWRkcmVzc0xpc3RXcmFwIGFkZHJlc3NEYXRhPXt0aGlzLnByb3BzLmFkZHJlc3NEYXRhfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXt0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3N9IC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlrprkvY3lvZPliY3lnLDlnYBcclxudmFyIEFkZHJlc3NMb2NhdGlvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3ModGhpcy5wcm9wcy5sb2NhbEFkZHJlc3MpO1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTG9jYXRpb25cIj5cclxuICAgICAgICAgICAgICAgIOeMnOS9oOWcqO+8mjxzcGFuIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9Pnt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc308L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5Zyw5Z2A5pCc57SiXHJcbnZhciBBZGRyZXNzU2VhcmNoSW5wdXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3VsdDogW10sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVSZXN1bHRDbGljazogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciBhZGRyZXNzID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhJyk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzKGFkZHJlc3MpO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZVNlYXJjaDogZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgY29udCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICB2YXIgbGVuID0gY29udC5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGFkZHJlc3NEYXRhID0gdGhpcy5wcm9wcy5hZGRyZXNzRGF0YTtcclxuICAgICAgICAvLyDliKTmlq3mmK/msYnlrZfov5jmmK/mi7zpn7NcclxuICAgICAgICB2YXIgcmVnPS9eW1xcdTRFMDAtXFx1OUZBNV0rJC87XHJcbiAgICAgICAgaWYocmVnLnRlc3QoY29udCkpIHtcclxuICAgICAgICAgICAgLy8g5piv5rGJ5a2X5aSE55CGXHJcbiAgICAgICAgICAgIHZhciBfcmVzdWx0SCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaiA9IDA7XHJcbiAgICAgICAgICAgIGZvcih2YXIga2V5SCBpbiBhZGRyZXNzRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBrZXlIUyBpbiBhZGRyZXNzRGF0YVtrZXlIXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGFkZHJlc3NEYXRhW2tleUhdW2tleUhTXS5jaXR5LnN1YnN0cmluZygwLGxlbikgPT0gY29udCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0SFtqXSAgPSBhZGRyZXNzRGF0YVtrZXlIXVtrZXlIU10uY2l0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtyZXN1bHQ6IF9yZXN1bHRIfSk7XHJcbiAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOaYr+aLvOmfs1xyXG4gICAgICAgIHZhciBGTCA9IGNvbnQuc3Vic3RyaW5nKDAsMSkudG9Mb2NhbGVVcHBlckNhc2UoKTtcclxuICAgICAgICB2YXIgcmVzdWx0RkwgPSBhZGRyZXNzRGF0YVtGTF07XHJcbiAgICAgICAgdmFyIF9yZXN1bHQgPSBbXTtcclxuICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gcmVzdWx0RkwpIHtcclxuICAgICAgICAgICAgaWYoa2V5LnN1YnN0cmluZygwLGxlbikgPT0gY29udC50b0xvY2FsZUxvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBfcmVzdWx0W2ldICA9IHJlc3VsdEZMW2tleV0uY2l0eTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3Jlc3VsdDogX3Jlc3VsdH0pO1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIF9oYW5kbGVSZXN1bHRDbGljayA9IHRoaXMuaGFuZGxlUmVzdWx0Q2xpY2s7XHJcbiAgICAgICAgdmFyIHJlc3VsdE5vZGVzID0gdGhpcy5zdGF0ZS5yZXN1bHQubWFwKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxsaSBkYXRhPXtyZXN1bHR9IG9uQ2xpY2s9e19oYW5kbGVSZXN1bHRDbGlja30+e3Jlc3VsdH08L2xpPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc1NlYXJjaFwiPlxyXG4gICAgICAgICAgICAgICAg55u05o6l5pCc57SiXHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgb25DaGFuZ2U9e3RoaXMuaGFuZGxlU2VhcmNofSBwbGFjZWhvbGRlcj1cIuivt+i+k+WFpeWfjuW4guWQjVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwiQWRkcmVzc1NlYXJjaFJlc3VsdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtyZXN1bHROb2Rlc31cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5Zyw5Z2A5YiX6KGo5a655ZmoXHJcbnZhciBBZGRyZXNzTGlzdFdyYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBhZGRyZXNzRGF0YSA9IHRoaXMucHJvcHMuYWRkcmVzc0RhdGE7XHJcbiAgICAgICAgdmFyIGhhbmRsZVNlbGVjdEFkZHJlc3MgPSB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3M7XHJcbiAgICAgICAgdmFyIHJvd05vZGVzID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgY29udCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRbaV0gID0gPEFkZHJlc3NMaXN0Um93IGtleT17a2V5fSBrZXlEYXRhPXtrZXl9IGRhdGE9e2RhdGFba2V5XX0gaGFuZGxlU2VsZWN0QWRkcmVzcz17aGFuZGxlU2VsZWN0QWRkcmVzc30gLz47XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnQ7XHJcbiAgICAgICAgfShhZGRyZXNzRGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTGlzdFdyYXBcIj5cclxuICAgICAgICAgICAgICAgIHtyb3dOb2Rlc31cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlnLDlnYDliJfooajooYxcclxudmFyIEFkZHJlc3NMaXN0Um93ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgYWRkcmVzcyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YScpO1xyXG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzcyhhZGRyZXNzKTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2s7XHJcbiAgICAgICAgdmFyIGRhdGFOb2RlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnQgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb250W2ldICA9IDxzcGFuIGtleT17XCJwXCIra2V5fT48c3BhbiBkYXRhPXtkYXRhW2tleV0uY2l0eX0ga2V5PXtpfSAgb25DbGljaz17aGFuZGxlQ2xpY2t9ID57ZGF0YVtrZXldLmNpdHl9PC9zcGFuPjwvc3Bhbj47XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnQ7XHJcbiAgICAgICAgfSh0aGlzLnByb3BzLmRhdGEpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc0xpc3RSb3dcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImtleURhdGFcIj57dGhpcy5wcm9wcy5rZXlEYXRhfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRhdGFXcmFwXCI+e2RhdGFOb2Rlc308L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG4iLCIndXNlIHN0cmljdCdcclxuXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyAgSW5jbHVkZTogQWRkcmVzc0xpc3QgQWRkcmVzc1NlYXJjaFxyXG4vL1xyXG4vLyAgVE9ETzpcclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG52YXIgQWRkcmVzc1BpY2tlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY2l0eTogXCLljJfkuqxcIixcclxuICAgICAgY3VycmVudENpdHk6IG51bGwsXHJcbiAgICAgIGFkZHJlc3M6IHRoaXMucHJvcHMua2V5d29yZFxyXG4gICAgfTtcclxuICB9LFxyXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge307XHJcbiAgfSxcclxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG15Q2l0eSA9IG5ldyBCTWFwLkxvY2FsQ2l0eSgpO1xyXG4gICAgbXlDaXR5XHJcbiAgICAgIC5nZXQoZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRDaXR5ID0gcmVzLm5hbWU7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGN1cnJlbnRDaXR5OiBjdXJyZW50Q2l0eVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LmJpbmQodGhpcykpO1xyXG4gIH0sXHJcbiAgc2V0QWRkcmVzczogZnVuY3Rpb24oYWQpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhZGRyZXNzOiBhZFxyXG4gICAgfSk7XHJcbiAgfSxcclxuICBzZXRDaXR5OiBmdW5jdGlvbihjdCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGNpdHk6IGN0XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlID0gdGhpcy5zdGF0ZS5hZGRyZXNzXHJcbiAgICAgID8gdGhpcy5wcm9wcy5hZGRyZXNzUGlja2VyQWN0aXZlU3R5bGVcclxuICAgICAgOiB7fTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkcmVzcy1waWNrZXJcIiBzdHlsZT17YWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlfT5cclxuICAgICAgICA8QWRkcmVzc0xpc3Qgc2V0Q2l0eT17dGhpcy5zZXRDaXR5fSBsb2NhbEFkZHJlc3M9e3RoaXMuc3RhdGUuY3VycmVudENpdHl9IGFkZHJlc3NEYXRhPXt0aGlzLnByb3BzLmFkZHJlc3NEYXRhfS8+XHJcbiAgICAgICAgPEFkZHJlc3NJbnB1dCB7Li4udGhpcy5wcm9wc30gY2l0eT17dGhpcy5zdGF0ZS5jaXR5fSBzZWFyY2hTdWJtaXRIYW5kbGVyPXt0aGlzLnNldEFkZHJlc3N9Lz5cclxuICAgICAgICA8QWRkcmVzc01hcCBhZGRyZXNzS2V5d29yZD17dGhpcy5zdGF0ZS5hZGRyZXNzfSBjaXR5PXt0aGlzLnByb3BzLmNpdHl9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfSBsYnM9e3RoaXMucHJvcHMubGJzfS8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn0pO1xyXG4iLCIndXNlIHN0cmljdCdcblxuLy8gID09PT09PT09PT1lZWU9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vICBJbmNsdWRlOiBBZGRyZXNzSW5wdXQgQWRkcmVzc01hcFxyXG4vL1xyXG4vLyAgVE9ETzogW2FkZF0g5aKe5Yqg5ZCE6aG55Y+C5pWwXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cbi8qIEFkZHJlc3NTZWFyY2ggKi9cbnZhciBBZGRyZXNzU2VhcmNoID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhZGRyZXNzOiBudWxsXG4gICAgfTtcbiAgfSxcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5wdXRXaWR0aDogNDAwLFxuICAgICAgaW5wdXRUaXA6IFwi6L6T5YWl5oOz6KaB5pCc57Si55qE5Zyw5Z2AXCIsXG4gICAgICBzZWFyY2hCdG5UZXh0OiBcIuaQnOe0olwiLFxuICAgICAgY2l0eTogXCLljJfkuqxcIixcbiAgICAgIHRoZW1lOiBcImRhcmtcIlxuICAgIH1cbiAgfSxcbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbXlDaXR5ID0gbmV3IEJNYXAuTG9jYWxDaXR5KCk7XG4gICAgbXlDaXR5XG4gICAgICAuZ2V0KGZ1bmN0aW9uKHJlcykge1xuICAgICAgICB2YXIgY3VycmVudENpdHkgPSByZXMubmFtZTtcbiAgICAgICAgdGhpcy5zZXRDaXR5KGN1cnJlbnRDaXR5KTtcbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gIH0sXG4gIHNldEFkZHJlc3M6IGZ1bmN0aW9uKGFkKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhZGRyZXNzOiBhZFxuICAgIH0pO1xuICB9LFxuICBzZXRDaXR5OiBmdW5jdGlvbihjdCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2l0eTogY3RcbiAgICB9KTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZGRyZXNzLXNlYXJjaFwiPlxuICAgICAgICA8QWRkcmVzc0lucHV0IHsuLi50aGlzLnByb3BzfSBzZWFyY2hTdWJtaXRIYW5kbGVyPXt0aGlzLnNldEFkZHJlc3N9IC8+XG4gICAgICAgIDxBZGRyZXNzTWFwIGFkZHJlc3NLZXl3b3JkPXt0aGlzLnN0YXRlLmFkZHJlc3N9IGNpdHk9e3RoaXMucHJvcHMuY2l0eX0gdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59KTtcblxuLyogQWRkcmVzc0lucHV0ICovXG52YXIgQWRkcmVzc0lucHV0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBrZXl3b3JkOiB0aGlzLnByb3BzLmtleXdvcmRcbiAgICB9O1xuICB9LFxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbnB1dFdpZHRoOiA0MDAsXG4gICAgICBpbnB1dFRpcDogXCLovpPlhaXmg7PopoHmkJzntKLnmoTlnLDlnYBcIixcbiAgICAgIHNlYXJjaEJ0blRleHQ6IFwi5pCc57SiXCIsXG4gICAgICBjaXR5OiBcIuWMl+S6rFwiLFxuICAgICAgdGhlbWU6IFwibGlnaHRcIlxuICAgIH1cbiAgfSxcbiAgc2VhcmNoU3VibWl0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIga2V5d29yZCA9IHRoaXMuZ2V0RE9NTm9kZSgpXG4gICAgICAuY2hpbGRyZW5bMF1cbiAgICAgIC52YWx1ZTtcbiAgICB0aGlzLnByb3BzXG4gICAgICAuc2VhcmNoU3VibWl0SGFuZGxlcihrZXl3b3JkKTtcbiAgICBzZXRDb29raWUoJ3NlYXJjaEtleXdvcmQnLCBrZXl3b3JkLCAzMCk7XG4gIH0sXG4gIGNoZWNrRW50ZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICAoZS5rZXlDb2RlID09PSAxMykgJiYgdGhpcy5zZWFyY2hTdWJtaXQoKTtcbiAgfSxcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtYXBBdXRvQ29tcGxldGUgPSBuZXcgQk1hcC5BdXRvY29tcGxldGUoe1xuICAgICAgXCJpbnB1dFwiOiBcIl9hZGRyZXNzU2VhcmNoS2V5d29yZFwiLFxuICAgICAgXCJsb2NhdGlvblwiOiB0aGlzLnByb3BzLmNpdHlcbiAgICB9KTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIga2V5d29yZFN0eWxlID0ge1xuICAgICAgd2lkdGg6IHRoaXMucHJvcHMuaW5wdXRXaWR0aFxuICAgIH07XG4gICAgdmFyIGNvbkNsYXNzTmFtZSA9IFwiYWRkcmVzcy1pbnB1dFwiO1xuICAgIHN3aXRjaCAodGhpcy5wcm9wcy50aGVtZSkge1xuICAgIGNhc2UgJ2xpZ2h0JyA6XG4gICAgICBicmVhaztcbiAgICBjYXNlICdkYXJrJyA6XG4gICAgICBjb25DbGFzc05hbWUgKz0gXCIgZGFya1wiO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdCA6XG5cbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjb25DbGFzc05hbWV9PlxuICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiaW5wdXQta2V5d29yZFwiIGlkPVwiX2FkZHJlc3NTZWFyY2hLZXl3b3JkXCIgb25LZXlVcD17dGhpcy5jaGVja0VudGVyfSBwbGFjZWhvbGRlcj17dGhpcy5zdGF0ZS5rZXl3b3JkIHx8IHRoaXMucHJvcHMuaW5wdXRUaXB9IHN0eWxlPXtrZXl3b3JkU3R5bGV9PjwvaW5wdXQ+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiaW5wdXQtY29tbWl0XCIgb25DbGljaz17dGhpcy5zZWFyY2hTdWJtaXR9Pnt0aGlzLnByb3BzLnNlYXJjaEJ0blRleHR9PC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59KTtcblxuLyogQWRkcmVzc01hcCAqL1xudmFyIEFkZHJlc3NNYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hcExvY2FsT2JqOiBudWxsLFxuICAgICAgaXRlbXNOdW1iZXI6IDAsXG4gICAgICBpdGVtc0xpc3Q6IFtdLFxuICAgICAgaXRlbUFjdGl2ZTogMFxuICAgIH07XG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm1hcCA9IG5ldyBCTWFwLk1hcChcIl9hZGRyZXNzTWFwTWFpblwiLCB7XG4gICAgICBlbmFibGVNYXBDbGljazogZmFsc2VcbiAgICB9KTtcbiAgICB0aGlzLm1hcFxuICAgICAgLmNlbnRlckFuZFpvb20odGhpcy5wcm9wcy5jaXR5LCAxMik7XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uKG5leHRQcm9wcykge1xuICAgIG5leHRQcm9wcy5hZGRyZXNzS2V5d29yZCAmJiB0aGlzLmdldE5lYXJieShuZXh0UHJvcHMuYWRkcmVzc0tleXdvcmQpO1xuICB9LFxuICBnZXROZWFyYnk6IGZ1bmN0aW9uKGtleXdvcmQsIHBhZ2UpIHtcbiAgICAvLyDlnLDlnYDop6PmnpDojrflj5bnu4/nuqzluqZcclxuICAgIHZhciBteUdlbyA9IG5ldyBCTWFwLkdlb2NvZGVyKCk7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBteUdlb1xuICAgICAgLmdldFBvaW50KGtleXdvcmQsIGZ1bmN0aW9uKHBvaW50KSB7IC8vIOino+aekOaIkOWKn+WQjueahOWbnuiwgyDmkJzntKLkv6Hmga9cclxuICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogJ2dldCcsXG4gICAgICAgICAgICB1cmw6ICdodHRwOi8vYXBpLm1hcC5iYWlkdS5jb20vZ2Vvc2VhcmNoL3YzL25lYXJieScsXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29ucFwiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBhazogX3RoaXMucHJvcHMubGJzLmFrLFxuICAgICAgICAgICAgICBnZW90YWJsZV9pZDogX3RoaXMucHJvcHMubGJzLmdlb3RhYmxlSWQsXG4gICAgICAgICAgICAgIGxvY2F0aW9uOiBwb2ludC5sbmcgKyAnLCcgKyBwb2ludC5sYXQsXG4gICAgICAgICAgICAgIHJhZGl1czogX3RoaXMucHJvcHMubGJzLnJhZGl1cyxcbiAgICAgICAgICAgICAgZmlsdGVyOiBfdGhpcy5wcm9wcy5sYnMuZmlsdGVyLFxuICAgICAgICAgICAgICBwYWdlX2luZGV4OiBfdGhpcy5wcm9wcy5sYnMucGFnZSB8fCAwLFxuICAgICAgICAgICAgICBwYWdlX3NpemU6IDUwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAganNvbnA6ICdjYWxsYmFjaycsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGl0ZW1zTnVtYmVyOiByZXMudG90YWwsXG4gICAgICAgICAgICAgICAgaXRlbXNMaXN0OiByZXMuY29udGVudHNcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIF90aGlzLnNob3dOZWFyYnkoKTtcbiAgICAgICAgICAgICAgX3RoaXMubWFwXG4gICAgICAgICAgICAgICAgLmNlbnRlckFuZFpvb20oX3RoaXMucHJvcHMuYWRkcmVzc0tleXdvcmQsIDEyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwi5pyq5om+5Yiw6K+l5Yy65Z+f5L+h5oGvXCIpO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMuY2l0eSk7XG4gIH0sXG4gIHNob3dOZWFyYnk6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgZm9yICh2YXIgayBpbiB0aGlzLnN0YXRlLml0ZW1zTGlzdCkge1xuICAgICAgdmFyIHBvaW50ID0gbmV3IEJNYXAuUG9pbnQodGhpcy5zdGF0ZS5pdGVtc0xpc3Rba10ubG9jYXRpb25bMF0sIHRoaXMuc3RhdGUuaXRlbXNMaXN0W2tdLmxvY2F0aW9uWzFdKTtcbiAgICAgIHZhciBtYXJrZXIgPSBuZXcgQk1hcC5NYXJrZXIocG9pbnQpO1xuICAgICAgdmFyIGxhYmVsID0gbmV3IEJNYXAuTGFiZWwoU3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIHBhcnNlSW50KGspKSwge1xuICAgICAgICBvZmZzZXQ6IG5ldyBCTWFwLlNpemUoNCwgMilcbiAgICAgIH0pO1xuICAgICAgbGFiZWwuc2V0U3R5bGUoe1xuICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBjb2xvcjogJyNGQUZBRkEnXG4gICAgICB9KTtcbiAgICAgIG1hcmtlci5zZXRMYWJlbChsYWJlbCk7XG4gICAgICBtYXJrZXIuc2V0VGl0bGUodGhpcy5zdGF0ZS5pdGVtc0xpc3Rba10udGl0bGUpO1xuICAgICAgbWFya2VyXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBfdGhpcy5zaG93SW5mb1dpbmRvdyh0aGlzLmdldExhYmVsKCkuY29udGVudC5jaGFyQ29kZUF0KDApIC0gNjUpO1xuICAgICAgICB9KTtcbiAgICAgIHRoaXMubWFwXG4gICAgICAgIC5hZGRPdmVybGF5KG1hcmtlcik7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuaXRlbXNMaXN0Lmxlbmd0aCAmJiB0aGlzLnNob3dJbmZvV2luZG93KDApO1xuICB9LFxuICBzaG93SW5mb1dpbmRvdzogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggIT09IHRoaXMuc3RhdGUuaXRlbUFjdGl2ZSB8fCAxKSB7XG4gICAgICB2YXIgcG9pbnQgPSBuZXcgQk1hcC5Qb2ludCh0aGlzLnN0YXRlLml0ZW1zTGlzdFtpbmRleF0ubG9jYXRpb25bMF0sIHRoaXMuc3RhdGUuaXRlbXNMaXN0W2luZGV4XS5sb2NhdGlvblsxXSk7XG4gICAgICB2YXIgaXRlbUluZm8gPSB0aGlzLnN0YXRlLml0ZW1zTGlzdFtpbmRleF07XG4gICAgICB2YXIgdGl0bGUgPSBpdGVtSW5mby50aXRsZTtcbiAgICAgIHZhciBhZGRyZXNzID0gaXRlbUluZm8uYWRkcmVzcztcbiAgICAgIHZhciB0ZWwgPSBpdGVtSW5mby50ZWw7XG4gICAgICB2YXIgY29udGVudCA9ICc8cCBjbGFzcz1cIm1hcC1pbmZvLXdpbmRvd1wiPuWcsOWdgO+8micgKyBhZGRyZXNzICsgJzwvcD4nO1xuICAgICAgdmFyIGluZm9XaW5kb3cgPSBuZXcgQk1hcC5JbmZvV2luZG93KGNvbnRlbnQsIHtcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICB3aWR0aDogMjkwLFxuICAgICAgICBwYW5lbDogXCJwYW5lbFwiLFxuICAgICAgICBlbmFibGVBdXRvUGFuOiB0cnVlLFxuICAgICAgICBvZmZzZXQ6IG5ldyBCTWFwLlNpemUoMCwgLTI1KVxuICAgICAgfSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXRlbUFjdGl2ZTogKyBpbmRleFxuICAgICAgfSk7XG4gICAgICB0aGlzLm1hcFxuICAgICAgICAub3BlbkluZm9XaW5kb3coaW5mb1dpbmRvdywgcG9pbnQpO1xuICAgIH1cbiAgfSxcbiAgY2xpY2tNYXBJdGVtOiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGVsZSA9IGUudGFyZ2V0O1xuICAgIHZhciBlbGVDbGFzcyA9IGVsZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgdmFyIGl0ZW1JbmRleCA9IDA7XG4gICAgaWYgKGVsZUNsYXNzID09PSBcIm1hcC1pdGVtXCIpIHtcbiAgICAgIGl0ZW1JbmRleCA9IGVsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XG4gICAgfSBlbHNlIGlmIChlbGVDbGFzcyA9PT0gXCJtYXAtaXRlbS1tYXJrXCIgfHwgZWxlQ2xhc3MgPT09IFwibWFwLWl0ZW0tbWFpblwiKSB7XG4gICAgICBpdGVtSW5kZXggPSBlbGUucGFyZW50Tm9kZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xuICAgIH0gZWxzZSBpZiAoIWVsZUNsYXNzKSB7XG4gICAgICBpdGVtSW5kZXggPSBlbGUucGFyZW50Tm9kZVxuICAgICAgICAucGFyZW50Tm9kZVxuICAgICAgICAucGFyZW50Tm9kZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtSW5kZXggPSBlbGUucGFyZW50Tm9kZVxuICAgICAgICAucGFyZW50Tm9kZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xuICAgIH1cbiAgICB0aGlzLnNob3dJbmZvV2luZG93KGl0ZW1JbmRleCk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvbkNsYXNzTmFtZSA9IFwiYWRkcmVzcy1tYXBcIjtcbiAgICBzd2l0Y2ggKHRoaXMucHJvcHMudGhlbWUpIHtcbiAgICBjYXNlICdsaWdodCcgOlxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGFyaycgOlxuICAgICAgY29uQ2xhc3NOYW1lICs9IFwiIGRhcmtcIjtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQgOlxuXG4gICAgfVxuICAgIHZhciBtYXBJdGVtQWN0aWVTdHlsZSA9IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMTgxMjExXCJcbiAgICB9O1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y29uQ2xhc3NOYW1lfSBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiB0aGlzLnByb3BzLmFkZHJlc3NLZXl3b3JkXG4gICAgICAgICAgPyBcImJsb2NrXCJcbiAgICAgICAgICA6IFwibm9uZVwiXG4gICAgICB9fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtbmF2XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtbmF2LXRpdGxlXCI+XG4gICAgICAgICAgICDpmYTov5HmnIlcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hcC1uYXYtbnVtYmVyXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLml0ZW1zTnVtYmVyfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAg5a625L2T6aqM5bqXXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm1hcC1pdGVtc1wiIGlkPVwiX2FkZHJlc3NNYXBJdGVtc1wiIG9uQ2xpY2s9e3RoaXMuY2xpY2tNYXBJdGVtfT5cbiAgICAgICAgICAgIHt0aGlzXG4gICAgICAgICAgICAgIC5zdGF0ZVxuICAgICAgICAgICAgICAuaXRlbXNMaXN0XG4gICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cIm1hcC1pdGVtXCIgZGF0YS1rZXk9e2l9IGtleT17aX0gc3R5bGU9eyhpID09PSB0aGlzLnN0YXRlLml0ZW1BY3RpdmUpXG4gICAgICAgICAgICAgICAgICA/IG1hcEl0ZW1BY3RpZVN0eWxlXG4gICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgIHt9fT5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hcC1pdGVtLW1hcmtcIj57U3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGkpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tbWFpblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1pdGVtLXRpdGxlXCI+e2l0ZW0udGl0bGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tYWRkcmVzc1wiPuWcsOWdgO+8mntpdGVtLmFkZHJlc3N9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tdGVsXCI+55S16K+d77yae2l0ZW0udGVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9saT47XG4gICAgICAgICAgICAgIH0uYmluZCh0aGlzKSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW1haW5cIiBpZD1cIl9hZGRyZXNzTWFwTWFpblwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG4iLCIndXNlIHN0cmljdCdcblxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAgQ29tcG9uZW50OiBQcm9ncmVzc0JhclxuLy9cbi8vICBJbmNsdWRlOiBQYWdpbmF0aW9uQnRuXG4vL1xuLy8gIFRPRE86XG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyogUGFnaW5hdGlvbkJ0biAqL1xudmFyIFBhZ2luYXRpb25CdG4gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRleHQ6IDEsXG4gICAgICB0eXBlOiBcIm51bVwiXG4gICAgfTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGV4dCA9ICh0aGlzLnByb3BzLnR5cGUgPT09ICdkb3QnKSA/ICcuLi4nIDogdGhpcy5wcm9wcy50ZXh0O1xuICAgIHZhciBpdGVtQ2xhc3MgPSB0aGlzLnByb3BzLmFjdGl2ZVxuICAgICAgPyBcIml0ZW0gYWN0aXZlXCJcbiAgICAgIDogXCJpdGVtXCI7XG4gICAgaWYodGhpcy5wcm9wcy50eXBlICE9PSAnbnVtJykge1xuICAgICAgaXRlbUNsYXNzICs9IChcIiBwYWdlIFwiICsgdGhpcy5wcm9wcy50eXBlKTtcbiAgICB9XG4gICAgaWYodGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgaXRlbUNsYXNzICs9ICcgZGlzYWJsZWQnO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT17aXRlbUNsYXNzfSBvbkNsaWNrPXt0aGlzLnByb3BzLmNoYW5nZVBhZ2V9PlxuICAgICAgICA8YT57dGV4dH08L2E+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn0pO1xuXG4vKiBQYWdpbmF0aW9uICovXG52YXIgUGFnaW5hdGlvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlUGFnZTogdGhpcy5wcm9wcy5hY3RpdmVQYWdlIHx8IDEsXG4gICAgICBwYWdlSXRlbXM6IHRoaXMuZ2V0UGFnZUl0ZW1zKDEpXG4gICAgfTtcbiAgfSxcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IG51bGwsIC8vIOmmlumhtSBudWxsIHx8IHN0cmluZ1xuICAgICAgcHJldjogXCLkuIrkuIDpobVcIiwgLy8g5LiK5LiA6aG1IG51bGwgfHwgc3RyaW5nXG4gICAgICBiYXNlUGFnZXM6IDIsIC8vIGZpcnN0IHByZXYgYmFzZSAuLi4gbWlkIC4uLiBuZXh0IGxhc3RcbiAgICAgIG1pZFBhZ2VzOiA1LCAvLyBmaXJzdCBwcmV2IGJhc2UgLi4uIG1pZCAuLi4gbmV4dCBsYXN0XG4gICAgICBlbGxpcHNpczogdHJ1ZSwgLy8g55yB55Wl5Y+3IGJvb2xlblxuICAgICAgbmV4dDogXCLkuIvkuIDpobVcIiwgLy8g5LiL5LiA6aG1IG51bGwgfHwgc3RyaW5nXG4gICAgICBsYXN0OiBcIuacq+mhtVwiLCAvLyDmnKvpobUgbnVsbCB8fCBzdHJpbmdcbiAgICAgIHRoZW1lOiBcImxpZ2h0XCIsIC8vIOS4u+mimFxuICAgICAgc2VsZWN0ZWQ6IGZ1bmN0aW9uKHBhZ2UpIHsgLy8g6aG156CB5YiH5o2i5pe25Zue6LCDXG4gICAgICAgIGNvbnNvbGUubG9nKHBhZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaGFuZGxlSXRlbUNsaWNrOiBmdW5jdGlvbih0eXBlLCBwYWdlKSB7XG4gICAgaWYgKHR5cGUgPT09IFwiZmlyc3RcIikge1xuICAgICAgcGFnZSA9IDE7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcInByZXZcIikge1xuICAgICAgcGFnZSA9ICh0aGlzLnN0YXRlLmFjdGl2ZVBhZ2UgPT09IDEpID8gMSA6IHRoaXMuc3RhdGUuYWN0aXZlUGFnZSAtIDE7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcIm5leHRcIikge1xuICAgICAgcGFnZSA9ICh0aGlzLnN0YXRlLmFjdGl2ZVBhZ2UgPT09IHRoaXMucHJvcHMucGFnZXMpID8gdGhpcy5wcm9wcy5wYWdlcyA6IHRoaXMuc3RhdGUuYWN0aXZlUGFnZSArIDE7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcImxhc3RcIikge1xuICAgICAgcGFnZSA9IHRoaXMucHJvcHMucGFnZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhZ2UgPSBwYWdlO1xuICAgIH1cbiAgICB2YXIgcGFnZUl0ZW1zID0gdGhpcy5nZXRQYWdlSXRlbXMocGFnZSk7XG4gICAgaWYgKHBhZ2UgIT09IHRoaXMuc3RhdGUuYWN0aXZlUGFnZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFjdGl2ZVBhZ2U6IHBhZ2UsXG4gICAgICAgIHBhZ2VJdGVtczogcGFnZUl0ZW1zXG4gICAgICB9KTtcbiAgICAgIHRoaXMucHJvcHMuc2VsZWN0ZWQocGFnZSk7XG4gICAgfVxuICB9LFxuICBnZXRQYWdlSXRlbXM6IGZ1bmN0aW9uKG4pIHtcbiAgICB2YXIgbGlzdCA9IFtdO1xuICAgIHZhciBiID0gdGhpcy5wcm9wcy5iYXNlUGFnZXM7XG4gICAgdmFyIG0gPSB0aGlzLnByb3BzLm1pZFBhZ2VzO1xuICAgIHZhciBwID0gdGhpcy5wcm9wcy5wYWdlcztcbiAgICBpZihuIDw9IHBhcnNlSW50KG0gLyAyKSArIDEpIHsgLy8gMVxuICAgICAgbGlzdCA9IHRoaXMuX2dldFNlcmllc051bWJlcigxLCBwIDw9IGIgKyBtID8gcCA6IG0pO1xuICAgIH0gZWxzZSBpZigobiA8PSBwYXJzZUludChtIC8gMikgKyAxICsgYikgfHwgcCA8PSBiICsgbSkgIHsgLy8gMSdcbiAgICAgIGxpc3QgPSB0aGlzLl9nZXRTZXJpZXNOdW1iZXIoMSwgcCA8PSBiICsgbSA/IHAgOiBuICsgMik7XG4gICAgfSBlbHNlIGlmKChuIDwgcCAtIHBhcnNlSW50KG0gLyAyKSAtIDEpKSB7ICAvLyAyXG4gICAgICBsaXN0ID0gdGhpcy5fZ2V0U2VyaWVzTnVtYmVyKDEsIHRoaXMucHJvcHMuYmFzZVBhZ2VzKTtcbiAgICAgIGxpc3QucHVzaCgnZScpO1xuICAgICAgbGlzdCA9IGxpc3QuY29uY2F0KHRoaXMuX2dldFNlcmllc051bWJlcihuLTIsIG0pKTtcbiAgICAgIGlmKHAgPiBtICsgYiArIDIpIHtcbiAgICAgICAgbGlzdC5wdXNoKCdlJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmKG4gPT09IHAgLSBwYXJzZUludChtIC8gMikgLSAxKSB7ICAvLyAzXG4gICAgICBsaXN0ID0gdGhpcy5fZ2V0U2VyaWVzTnVtYmVyKDEsIHRoaXMucHJvcHMuYmFzZVBhZ2VzKTtcbiAgICAgIGxpc3QucHVzaCgnZScpO1xuICAgICAgbGlzdCA9IGxpc3QuY29uY2F0KHRoaXMuX2dldFNlcmllc051bWJlcihwIC0gbSwgbSArIDEpKTtcbiAgICB9IGVsc2UgeyAgLy8gNFxuICAgICAgbGlzdCA9IHRoaXMuX2dldFNlcmllc051bWJlcigxLCB0aGlzLnByb3BzLmJhc2VQYWdlcyk7XG4gICAgICBsaXN0LnB1c2goJ2UnKTtcbiAgICAgIGxpc3QgPSBsaXN0LmNvbmNhdCh0aGlzLl9nZXRTZXJpZXNOdW1iZXIocCAtIG0gKyAxLCBtKSk7XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xuICB9LFxuICBfZ2V0U2VyaWVzTnVtYmVyOiBmdW5jdGlvbihzdGFydCwgbGVuZ3RoKSB7XG4gICAgc3RhcnQgPSBzdGFydCB8fCAxO1xuICAgIGxlbmd0aCA9IGxlbmd0aCB8fCA1O1xuICAgIHZhciBzZXJpZXMgPSBbXTtcbiAgICB3aGlsZShsZW5ndGgtLSkge1xuICAgICAgc2VyaWVzLnB1c2goc3RhcnQrKyk7XG4gICAgfVxuICAgIHJldHVybiBzZXJpZXM7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5nZXRQYWdlSXRlbXModGhpcy5zdGF0ZS5hY3RpdmVQYWdlKTtcbiAgICB2YXIgc3RhcnRCbG9jayA9IFtdO1xuICAgIHZhciBlbmRCbG9jayA9IFtdO1xuICAgIGlmKHRoaXMucHJvcHMuZmlyc3QpIHtcbiAgICAgIHN0YXJ0QmxvY2sucHVzaCg8UGFnaW5hdGlvbkJ0biB0ZXh0PXt0aGlzLnByb3BzLmZpcnN0fSBkaXNhYmxlZD17KHRoaXMuc3RhdGUuYWN0aXZlUGFnZSA9PT0gMSkgPyB0cnVlIDogZmFsc2V9IHR5cGU9XCJwcmV2XCIgdHlwZT1cImZpcnN0XCIgY2hhbmdlUGFnZT17dGhpcy5oYW5kbGVJdGVtQ2xpY2suYmluZCh0aGlzLCAnZmlyc3QnKX0gLz4pO1xuICAgIH1cbiAgICBpZih0aGlzLnByb3BzLnByZXYpIHtcbiAgICAgIHN0YXJ0QmxvY2sucHVzaCg8UGFnaW5hdGlvbkJ0biB0ZXh0PXt0aGlzLnByb3BzLnByZXZ9IGRpc2FibGVkPXsodGhpcy5zdGF0ZS5hY3RpdmVQYWdlID09PSAxKSA/IHRydWUgOiBmYWxzZX0gdHlwZT1cInByZXZcIiBjaGFuZ2VQYWdlPXt0aGlzLmhhbmRsZUl0ZW1DbGljay5iaW5kKHRoaXMsICdwcmV2Jyl9IC8+KTtcbiAgICB9XG4gICAgaWYodGhpcy5wcm9wcy5uZXh0KSB7XG4gICAgICBlbmRCbG9jay5wdXNoKDxQYWdpbmF0aW9uQnRuIHRleHQ9e3RoaXMucHJvcHMubmV4dH0gdHlwZT1cIm5leHRcIiBkaXNhYmxlZD17KHRoaXMuc3RhdGUuYWN0aXZlUGFnZSA9PT0gdGhpcy5wcm9wcy5wYWdlcykgPyB0cnVlIDogZmFsc2V9IGNoYW5nZVBhZ2U9e3RoaXMuaGFuZGxlSXRlbUNsaWNrLmJpbmQodGhpcywgJ25leHQnKX0gLz4pO1xuICAgIH1cbiAgICBpZih0aGlzLnByb3BzLmxhc3QpIHtcbiAgICAgIGVuZEJsb2NrLnB1c2goPFBhZ2luYXRpb25CdG4gdGV4dD17dGhpcy5wcm9wcy5sYXN0fSB0eXBlPVwibGFzdFwiIGRpc2FibGVkPXsodGhpcy5zdGF0ZS5hY3RpdmVQYWdlID09PSB0aGlzLnByb3BzLnBhZ2VzKSA/IHRydWUgOiBmYWxzZX0gY2hhbmdlUGFnZT17dGhpcy5oYW5kbGVJdGVtQ2xpY2suYmluZCh0aGlzLCAnbGFzdCcpfSAvPik7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPVwicGFnaW5hdGlvblwiPlxuICAgICAgICB7c3RhcnRCbG9ja31cbiAgICAgICAge1xuICAgICAgICAgIHRoaXMuc3RhdGUucGFnZUl0ZW1zLm1hcChmdW5jdGlvbihpdGVtLCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8UGFnaW5hdGlvbkJ0biB0ZXh0PXtpdGVtfSB0eXBlPXtpdGVtID09PSAnZScgPyAnZG90JyA6ICdudW0nfSBhY3RpdmU9eyhpdGVtID09PSB0aGlzLnN0YXRlLmFjdGl2ZVBhZ2UpID8gdHJ1ZSA6IGZhbHNlfSBjaGFuZ2VQYWdlPXtpdGVtID09PSAnZScgPyBudWxsIDogdGhpcy5oYW5kbGVJdGVtQ2xpY2suYmluZCh0aGlzLCAnbnVtJywgaXRlbSl9IGtleT17aX0gLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9LmJpbmQodGhpcykpXG4gICAgICAgIH1cbiAgICAgICAge2VuZEJsb2NrfVxuICAgICAgPC91bD5cbiAgICApXG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnXHJcblxyXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gIENvbXBvbmVudDogUHJvZ3Jlc3NCYXJcclxuLy9cclxuLy8gIEluY2x1ZGU6IFNwaW5uZXJcclxuLy9cclxuLy8gIERlc2NyaXB0aW9uOiBKc3ggZm9yIFByb2dyZXNzQmFyXHJcbi8vXHJcbi8vICBUT0RPOiBbZml4XSDkv67mraPliJ3lp4vml7YgdHJhbnNpdGlvbiDkuI3nlJ/mlYjnmoTpl67pophcclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKiBTcGlubmVyICovXHJcbnZhciBTcGlubmVyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1LXNwaW5uZXJcIj48L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qIFByb2dyZXNzQmFyICovXHJcbnZhciBQcm9ncmVzc0JhciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmF0ZTogbnVsbCxcclxuICAgICAgZG9uZTogZmFsc2VcclxuICAgIH07XHJcbiAgfSxcclxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3BlZWQ6IDAuNiwgIC8vIOWKqOeUu+mAn+W6plxyXG4gICAgICBzcGlubmVyOiB0cnVlLCAgLy8g5piv5ZCm5pyJ5ZyI5ZyIXHJcbiAgICAgIGVhc2luZzogJ2Vhc2UnLCAgLy8g5Yqo55S757yT5Yqo5puy57q/XHJcbiAgICAgIG1heFJhdGU6IDAuOTYsICAvLyDov5vluqbmnaHmnIDlpKflrr3luqZcclxuICAgICAgaW5jU3RlcDogMC4wNCwgIC8vIGluYyDlop7plb/mraXluYVcclxuICAgICAgbWluU3RlcDogMC4wMDUsICAvLyDpmo/mnLrlop7plb/nmoTmnIDlsI/mraXluYVcclxuICAgICAgbWF4U3RlcDogMC4wMywgIC8vIOmaj+acuuWinumVv+eahOacgOWkp+atpeW5hVxyXG4gICAgICB0cmlja2xlOiB0cnVlLCAgLy8g5piv5ZCm6Ieq5Yqo5aKe6ZW/XHJcbiAgICAgIHRyaWNrbGVTcGVlZDogODAwLCAgLy8g6Ieq5Yqo5aKe6ZW/55qE6Ze06ZqU5pe26Ze0XHJcbiAgICAgIHNldFRyaWNrbGU6IGZhbHNlICAvLyBzZXQg5ZCO5piv5ZCm6Ieq5Yqo5aKe6ZW/77yI5pyq5ZCv55So77yJXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5faW5pdCgpO1xyXG4gICAgdGhpcy5zZXQoJzAuNSUnKTtcclxuICAgIHRoaXMucHJvcHMudHJpY2tsZSAmJiB0aGlzLl9hdXRvSW5jKCk7XHJcbiAgfSxcclxuICBzZXQ6IGZ1bmN0aW9uKG4sIHRyaWNrbGUpIHtcclxuICAgICF0cmlja2xlICYmIHRoaXMuX2luaXQoKTtcclxuICAgIG4gPSB0aGlzLl9mb3JtYXQobik7XHJcbiAgICBpZiAobiA9PT0gMTAwKSB7XHJcbiAgICAgIC8qIGRvbmUgKi9cclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgcmF0ZTogMTAwXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbiA9IG4gPiB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcclxuICAgICAgICA/IHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMFxyXG4gICAgICAgIDogbjtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgcmF0ZTogblxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LFxyXG4gIGluYzogZnVuY3Rpb24obikge1xyXG4gICAgdGhpcy5faW5pdCgpO1xyXG4gICAgdGhpcy5wcm9wcy50cmlja2xlICYmIHRoaXMuX2F1dG9JbmMoKTtcclxuICAgIG4gPSBuXHJcbiAgICAgID8gdGhpcy5fZm9ybWF0KG4pXHJcbiAgICAgIDogdGhpcy5wcm9wcy5pbmNTdGVwICogMTAwO1xyXG4gICAgdmFyIG5ld1JhdGUgPSB0aGlzLnN0YXRlLnJhdGUgKyBuO1xyXG4gICAgdGhpcy5zZXQobmV3UmF0ZSArICclJywgdHJ1ZSk7XHJcbiAgfSxcclxuICBkb25lOiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuc2V0KCcxMDAlJyk7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBkb25lOiB0cnVlXHJcbiAgICAgIH0pO1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgcmF0ZTogbnVsbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMuc3BlZWQgKiAyICogMTAwMCk7XHJcbiAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMuc3BlZWQgKiAxMDAwKTtcclxuICB9LFxyXG4gIF9mb3JtYXQ6IGZ1bmN0aW9uKGRhdGEpIHsgIC8vIOagvOW8j+WMluS4uiAwLTEwMCDnmoTmlbTmlbBcclxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHsgIC8vIDAtMSDnmoTlsI/mlbBcclxuICAgICAgcmV0dXJuIGRhdGEgPiAxXHJcbiAgICAgICAgPyB0aGlzLnByb3MubWF4UmF0ZSAqIDEwMFxyXG4gICAgICAgIDogZGF0YSAqIDEwMDtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7ICAvLyDnmb7liIbmr5RcclxuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoZGF0YSkgPiAxMDBcclxuICAgICAgICA/IHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMFxyXG4gICAgICAgIDogcGFyc2VGbG9hdChkYXRhKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICB9LFxyXG4gIF9pbml0OiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuc3RhdGUuZG9uZSAmJiB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgZG9uZTogZmFsc2VcclxuICAgIH0pO1xyXG4gICAgdGhpcy50aW1lciAmJiB0aGlzLl9jbGVhckludGVydmFsKCk7XHJcbiAgfSxcclxuICBfYXV0b0luYzogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbmV3UmF0ZTtcclxuICAgIHZhciByYW5kb207XHJcbiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJhbmRvbSA9IHRoaXMuX2dldFJhZG9tU3RlcCgpO1xyXG4gICAgICBuZXdSYXRlID0gdGhpcy5zdGF0ZS5yYXRlICsgcmFuZG9tO1xyXG4gICAgICBjb25zb2xlLmxvZyhyYW5kb20pO1xyXG4gICAgICBpZiAobmV3UmF0ZSA+IHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMCk7XHJcbiAgICAgICAgdGhpcy5fY2xlYXJJbnRlcnZhbCgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBjb25zb2xlLmxvZyhuZXdSYXRlKTtcclxuICAgICAgdGhpcy5zZXQobmV3UmF0ZSArICclJywgdHJ1ZSk7XHJcbiAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMudHJpY2tsZVNwZWVkKTtcclxuICB9LFxyXG4gIF9jbGVhckludGVydmFsOiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMudGltZXIgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcclxuICB9LFxyXG4gIF9nZXRSYWRvbVN0ZXA6IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XHJcbiAgICBtaW4gPSBtaW4gfHwgdGhpcy5wcm9wcy5taW5TdGVwICogMTAwO1xyXG4gICAgbWF4ID0gbWF4IHx8IHRoaXMucHJvcHMubWF4U3RlcCAqIDEwMDtcclxuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XHJcbiAgfSxcclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHByb2dyZXNzU3R5bGUgPSB7XHJcbiAgICAgIC8vZGlzcGxheTogKCF0aGlzLnN0YXRlLnJhdGUgJiYgdHlwZW9mIHRoaXMuc3RhdGUucmF0ZSA9PT0gJ29iamVjdCcpID8gJ25vbmUnIDogJ2Jsb2NrJyxcclxuICAgICAgb3BhY2l0eTogdGhpcy5zdGF0ZS5kb25lXHJcbiAgICAgICAgPyAwXHJcbiAgICAgICAgOiAxLFxyXG4gICAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAnICsgdGhpcy5wcm9wcy5zcGVlZCAqIDIgKyAncyAnICsgdGhpcy5wcm9wcy5lYXNpbmdcclxuICAgIH07XHJcbiAgICB2YXIgYmFyU3R5bGUgPSB7XHJcbiAgICAgIHdpZHRoOiAhdGhpcy5zdGF0ZS5yYXRlXHJcbiAgICAgICAgPyAwXHJcbiAgICAgICAgOiB0aGlzLnN0YXRlLnJhdGUgKyAnJScsXHJcbiAgICAgIHRyYW5zaXRpb246ICd3aWR0aCAnICsgdGhpcy5wcm9wcy5zcGVlZCArICdzICcgKyB0aGlzLnByb3BzLmVhc2luZ1xyXG4gICAgfTtcclxuICAgIHJldHVybiB0aGlzLnN0YXRlLnJhdGVcclxuICAgICAgPyAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdS1wcm9ncmVzc1wiIHN0eWxlPXtwcm9ncmVzc1N0eWxlfT5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3UtcHJvZ3Jlc3MtYmFyXCIgc3R5bGU9e2JhclN0eWxlfT48L2Rpdj5cclxuICAgICAgICAgIHt0aGlzLnByb3BzLnNwaW5uZXJcclxuICAgICAgICAgICAgPyA8U3Bpbm5lci8+XHJcbiAgICAgICAgICAgIDogbnVsbH1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgICA6IG51bGw7XHJcbiAgfVxyXG59KTtcclxuIiwidmFyIFRvb2xUaXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRpcDogXCJ0aXBcIixcclxuICAgICAgICAgICAgdHJpZ2dlcjogJ2hvdmVyJyxcclxuICAgICAgICAgICAgZGVsYXk6IDAsXHJcbiAgICAgICAgICAgIGhvdmVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcInRpcFwiLFxyXG4gICAgICAgICAgICB3aWR0aDogXCIyMDBweFwiLFxyXG4gICAgICAgICAgICB0eXBlOiAnc3BhbicsXHJcbiAgICAgICAgICAgIGFIcmVmOiBcIiNcIlxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wcm9wcy5wb3NpdGlvbixcclxuICAgICAgICAgICAgaXNBY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc09uVGlwOiBmYWxzZSxcclxuICAgICAgICAgICAgdGlwSGVpZ2h0OiBcIlwiXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVNb3VzZU92ZXI6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnRyaWdnZXI9PVwiaG92ZXJcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYW5kbGVNb3VzZU91dDogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHJpZ2dlcj09XCJob3ZlclwiKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnN0YXRlLmlzT25UaXApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogZmFsc2V9KTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpICwgdGhpcy5wcm9wcy5kZWxheSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50cmlnZ2VyPT1cImNsaWNrXCIpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZighdGhpcy5zdGF0ZS5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IHRydWV9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYW5kbGVUaXBNb3VzZU92ZXI6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLmhvdmVyYWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc09uVGlwOiB0cnVlfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiB0cnVlfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGhhbmRsZVRpcE1vdXNlT3V0OiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy5ob3ZlcmFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNPblRpcDogZmFsc2V9KTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5zZXRUaXBQb3NpdGlvbigpO1xyXG4gICAgfSxcclxuICAgIHNldFRpcFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdGlwID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCk7XHJcbiAgICAgICAgdmFyIGNvbnQgPSB0aGlzLnJlZnMuY29udC5nZXRET01Ob2RlKCk7XHJcbiAgICAgICAgaWYoIXRoaXMuZmxhZykge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLnRpcEhlaWdodCA9IHRpcC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuZmxhZyA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0aXBXaWR0aCA9IHRpcC5vZmZzZXRXaWR0aDtcclxuICAgICAgICB2YXIgdGlwSGVpZ2h0ID0gdGlwLm9mZnNldEhlaWdodDtcclxuICAgICAgICB2YXIgY29udFdpZHRoID0gY29udC5vZmZzZXRXaWR0aDtcclxuICAgICAgICB2YXIgY29udEhlaWdodCA9IGNvbnQub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5wb3NpdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFwibGVmdFwiOnRpcC5zdHlsZS50b3AgPSAtKHRpcEhlaWdodC1jb250SGVpZ2h0KS8yK1wicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoKzIwKStcInB4XCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6dGlwLnN0eWxlLnRvcCA9IC0odGlwSGVpZ2h0LWNvbnRIZWlnaHQpLzIrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUubGVmdCA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ0b3BcIjp0aXAuc3R5bGUubGVmdCA9IC0odGlwV2lkdGgtY29udFdpZHRoKS8yK1wicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmJvdHRvbSA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b21cIjp0aXAuc3R5bGUubGVmdCA9IC0odGlwV2lkdGgtY29udFdpZHRoKS8yK1wicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLnRvcCA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRpcC5zdHlsZS50b3AgPSAtKHRpcEhlaWdodC1jb250SGVpZ2h0KS8yK1wicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUubGVmdCA9IC0odGlwV2lkdGgrMjApK1wicHhcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGlwLnN0eWxlLmhlaWdodCA9IHRoaXMuc3RhdGUudGlwSGVpZ2h0LTIwK1wicHhcIjtcclxuICAgICAgICB0aGlzLnByZXZlcnRUaXBPdmVyZmxvdygpO1xyXG4gICAgfSxcclxuICAgIHByZXZlcnRUaXBPdmVyZmxvdzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHRpcFggPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gICAgICAgIHZhciB0aXBZID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgICAgIHZhciB0aXBXaWR0aCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLm9mZnNldFdpZHRoO1xyXG4gICAgICAgIHZhciB0aXBIZWlnaHQgPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgdmFyIGF2YWlsV2lkdGggPSBwYXJzZUludChkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKTtcclxuICAgICAgICBpZih0aXBYIDwgMCAmJiB0aXBYK3RpcFdpZHRoID4gYXZhaWxXaWR0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGlwWCA8IDApIHtcclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcImxlZnRcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cG9zaXRpb246IFwidG9wXCJ9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcInRvcFwiIHx8IHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJib3R0b21cIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cG9zaXRpb246IFwicmlnaHRcIn0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aXBYK3RpcFdpZHRoID4gYXZhaWxXaWR0aCkge1xyXG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwicmlnaHRcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cG9zaXRpb246IFwiYm90dG9tXCJ9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcImJvdHRvbVwiIHx8IHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJ0b3BcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cG9zaXRpb246IFwibGVmdFwifSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcbiAgICBnZXRUaXBTdHlsZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGlzcGxheTogdGhpcy5zdGF0ZS5pc0FjdGl2ZT9cImJsb2NrXCI6XCJub25lXCIsXHJcbiAgICAgICAgICAgIGNvbG9yOiBcInBpbmtcIixcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzMzNcIixcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMucHJvcHMud2lkdGgsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHlwZT09XCJzcGFuXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0b29sdGlwIFwiK3RoaXMuc3RhdGUucG9zaXRpb259PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHJlZj1cImNvbnRcIiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlTW91c2VPdXR9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZVRpcE1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVUaXBNb3VzZU91dH0gY2xhc3NOYW1lPVwidGlwXCIgcmVmPVwidGlwXCIgc3R5bGU9e3RoaXMuZ2V0VGlwU3R5bGUoKX0+e3RoaXMucHJvcHMudGlwfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwiYVwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widG9vbHRpcCBcIit0aGlzLnN0YXRlLnBvc2l0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLmFIcmVmfSByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVUaXBNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlVGlwTW91c2VPdXR9IGNsYXNzTmFtZT1cInRpcFwiIHJlZj1cInRpcFwiIHN0eWxlPXt0aGlzLmdldFRpcFN0eWxlKCl9Pnt0aGlzLnByb3BzLnRpcH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50eXBlPT1cImJ1dHRvblwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widG9vbHRpcCBcIit0aGlzLnN0YXRlLnBvc2l0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHJlZj1cImNvbnRcIiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlTW91c2VPdXR9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9