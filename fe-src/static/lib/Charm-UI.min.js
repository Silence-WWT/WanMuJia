var AddressList=React.createClass({displayName:"AddressList",getInitialState:function(){return{nowAddress:null,isWrapShow:!1}},handleBtnClick:function(){this.setState({isWrapShow:!this.state.isWrapShow})},handleSelectAddress:function(e){this.setState({nowAddress:e,isWrapShow:!1}),this.props.setCity&&this.props.setCity(e)},render:function(){return React.createElement("div",{className:"AddressList"},React.createElement(AddressDropButton,{triangleState:this.state.isWrapShow,onClick:this.handleBtnClick},this.state.nowAddress?this.state.nowAddress:this.props.localAddress),this.state.isWrapShow?React.createElement(AddressWrap,{addressData:this.props.addressData,localAddress:this.props.localAddress,handleSelectAddress:this.handleSelectAddress}):null)}}),AddressDropButton=React.createClass({displayName:"AddressDropButton",handleClick:function(){this.props.onClick()},render:function(){return React.createElement("button",{className:"AddressDropButton",onClick:this.handleClick},this.props.children,React.createElement("span",{className:"triangle "+this.props.triangleState}))}}),AddressWrap=React.createClass({displayName:"AddressWrap",render:function(){return React.createElement("div",{className:"AddressWrap"},React.createElement("div",{className:"AddressCont"},React.createElement(AddressLocation,{localAddress:this.props.localAddress,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressSearchInput,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressListWrap,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress})))}}),AddressLocation=React.createClass({displayName:"AddressLocation",handleClick:function(){this.props.handleSelectAddress(this.props.localAddress)},render:function(){return React.createElement("div",{className:"AddressLocation"},"猜你在：",React.createElement("span",{onClick:this.handleClick},this.props.localAddress))}}),AddressSearchInput=React.createClass({displayName:"AddressSearchInput",getInitialState:function(){return{result:[]}},handleResultClick:function(e){var t=e.target.getAttribute("data");this.props.handleSelectAddress(t)},handleSearch:function(e){var t=e.target.value,s=t.length,a=this.props.addressData,i=/^[\u4E00-\u9FA5]+$/;if(i.test(t)){var r=[],n=0;for(var c in a)for(var l in a[c])a[c][l].city.substring(0,s)==t&&(r[n]=a[c][l].city,n++);return void this.setState({result:r})}var o=t.substring(0,1).toLocaleUpperCase(),p=a[o],d=[],h=0;for(var u in p)u.substring(0,s)==t.toLocaleLowerCase()&&(d[h]=p[u].city),h++;this.setState({result:d})},render:function(){var e=this.handleResultClick,t=this.state.result.map(function(t){return React.createElement("li",{data:t,onClick:e},t)});return React.createElement("div",{className:"AddressSearch"},"直接搜索",React.createElement("input",{onChange:this.handleSearch,placeholder:"请输入城市名"}),React.createElement("ul",{className:"AddressSearchResult"},t))}}),AddressListWrap=React.createClass({displayName:"AddressListWrap",render:function(){var e=this.props.addressData,t=this.props.handleSelectAddress,s=function(e){var s=[],a=0;for(var i in e)s[a]=React.createElement(AddressListRow,{key:i,keyData:i,data:e[i],handleSelectAddress:t}),a++;return s}(e);return React.createElement("div",{className:"AddressListWrap"},s)}}),AddressListRow=React.createClass({displayName:"AddressListRow",handleClick:function(e){var t=e.target.getAttribute("data");this.props.handleSelectAddress(t)},render:function(){var e=this.handleClick,t=function(t){var s=[],a=0;for(var i in t)s[a]=React.createElement("span",{key:"p"+i},React.createElement("span",{data:t[i].city,key:a,onClick:e},t[i].city)),a++;return s}(this.props.data);return React.createElement("div",{className:"AddressListRow"},React.createElement("span",{className:"keyData"},this.props.keyData),React.createElement("span",{className:"dataWrap"},t))}}),AddressPicker=React.createClass({displayName:"AddressPicker",getInitialState:function(){return{city:"北京",currentCity:null,address:this.props.keyword}},getDefaultProps:function(){return{}},componentWillMount:function(){var e=new BMap.LocalCity;e.get(function(e){var t=e.name;this.setState({currentCity:t})}.bind(this))},setAddress:function(e){this.setState({address:e})},setCity:function(e){this.setState({city:e})},render:function(){var e=this.state.address?this.props.addressPickerActiveStyle:{};return React.createElement("div",{className:"address-picker",style:e},React.createElement(AddressList,{setCity:this.setCity,localAddress:this.state.currentCity,addressData:this.props.addressData}),React.createElement(AddressInput,React.__spread({},this.props,{city:this.state.city,searchSubmitHandler:this.setAddress})),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city,theme:this.props.theme}))}}),AddressSearch=React.createClass({displayName:"AddressSearch",getInitialState:function(){return{address:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京",theme:"dark"}},componentWillMount:function(){var e=new BMap.LocalCity;e.get(function(e){var t=e.name;this.setCity(t)}.bind(this))},setAddress:function(e){this.setState({address:e})},setCity:function(e){this.setState({city:e})},render:function(){return React.createElement("div",{className:"address-search"},React.createElement(AddressInput,React.__spread({},this.props,{searchSubmitHandler:this.setAddress})),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city,theme:this.props.theme}))}}),AddressInput=React.createClass({displayName:"AddressInput",getInitialState:function(){return{keyword:this.props.keyword}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京",theme:"light"}},searchSubmit:function(){var e=this.getDOMNode().children[0].value;this.props.searchSubmitHandler(e),setCookie("searchKeyword",e,30)},checkEnter:function(e){13===e.keyCode&&this.searchSubmit()},componentDidMount:function(){new BMap.Autocomplete({input:"_addressSearchKeyword",location:this.props.city})},render:function(){var e={width:this.props.inputWidth},t="address-input";switch(this.props.theme){case"light":break;case"dark":t+=" dark"}return React.createElement("div",{className:t},React.createElement("input",{className:"input-keyword",id:"_addressSearchKeyword",onKeyUp:this.checkEnter,placeholder:this.state.keyword||this.props.inputTip,style:e}),React.createElement("button",{className:"input-commit",onClick:this.searchSubmit},this.props.searchBtnText))}}),AddressMap=React.createClass({displayName:"AddressMap",getInitialState:function(){return{mapLocalObj:null,itemsNumber:0,itemsList:[],itemActive:0}},getDefaultProps:function(){return{mapSearchgeotableId:121763,mapSearchTags:"",mapSearchFilter:"",theme:"light"}},componentDidMount:function(){this.map=new BMap.Map("_addressMapMain",{enableMapClick:!1}),this.map.centerAndZoom(this.props.city,12)},componentWillReceiveProps:function(e){e.addressKeyword&&this.getNearby(e.addressKeyword)},getNearby:function(e,t){var s=new BMap.Geocoder,a=this;s.getPoint(e,function(e){e?$.ajax({type:"get",url:"http://api.map.baidu.com/geosearch/v3/nearby",dataType:"jsonp",data:{ak:"sdp9qCbToS7E23nDRxaAAwbh",geotable_id:121763,location:e.lng+","+e.lat,radius:1e4,page_index:t||0,page_size:50},jsonp:"callback",success:function(e){a.setState({itemsNumber:e.total,itemsList:e.contents}),a.showNearby(),a.map.centerAndZoom(a.props.addressKeyword,12)}}):alert("未找到该区域信息")}.bind(this),this.props.city)},showNearby:function(){var e=this;for(var t in this.state.itemsList){var s=new BMap.Point(this.state.itemsList[t].location[0],this.state.itemsList[t].location[1]),a=new BMap.Marker(s),i=new BMap.Label(String.fromCharCode(65+parseInt(t)),{offset:new BMap.Size(4,2)});i.setStyle({border:"none",backgroundColor:"transparent",color:"#FAFAFA"}),a.setLabel(i),a.setTitle(this.state.itemsList[t].title),a.addEventListener("click",function(t){e.showInfoWindow(this.getLabel().content.charCodeAt(0)-65)}),this.map.addOverlay(a)}this.state.itemsList.length&&this.showInfoWindow(0)},showInfoWindow:function(e){if(e!==this.state.itemActive,!0){var t=new BMap.Point(this.state.itemsList[e].location[0],this.state.itemsList[e].location[1]),s=this.state.itemsList[e],a=s.title,i=s.address,r=(s.tel,'<p class="map-info-window">地址：'+i+"</p>"),n=new BMap.InfoWindow(r,{title:a,width:290,panel:"panel",enableAutoPan:!0,offset:new BMap.Size(0,-25)});this.setState({itemActive:+e}),this.map.openInfoWindow(n,t)}},clickMapItem:function(e){var t=e.target,s=t.getAttribute("class"),a=0;a="map-item"===s?t.getAttribute("data-key"):"map-item-mark"===s||"map-item-main"===s?t.parentNode.getAttribute("data-key"):s?t.parentNode.parentNode.getAttribute("data-key"):t.parentNode.parentNode.parentNode.getAttribute("data-key"),this.showInfoWindow(a)},render:function(){var e="address-map";switch(this.props.theme){case"light":break;case"dark":e+=" dark"}var t={backgroundColor:"#181211"};return React.createElement("div",{className:e,style:{display:this.props.addressKeyword?"block":"none"}},React.createElement("div",{className:"map-nav"},React.createElement("div",{className:"map-nav-title"},"附近有",React.createElement("span",{className:"map-nav-number"},this.state.itemsNumber),"家体验店"),React.createElement("ul",{className:"map-items",id:"_addressMapItems",onClick:this.clickMapItem},this.state.itemsList.map(function(e,s){return React.createElement("li",{className:"map-item","data-key":s,key:s,style:s===this.state.itemActive?t:{}},React.createElement("span",{className:"map-item-mark"},String.fromCharCode(65+s)),React.createElement("div",{className:"map-item-main"},React.createElement("div",{className:"map-item-title"},e.title),React.createElement("div",{className:"map-item-address"},"地址：",e.address),React.createElement("div",{className:"map-item-tel"},"电话：",e.tel)))}.bind(this)))),React.createElement("div",{className:"map-main",id:"_addressMapMain"}))}}),FilterOption=React.createClass({displayName:"FilterOption",render:function(){var e,t=this.props.value,s=this.props.onSelect.bind(null,t),a=React.createElement("span",null,t.value);return e=this.props.isMultiSelect?React.createElement("label",{href:"#",htmlFor:t.name},React.createElement("input",{onClick:s,type:"checkbox",name:t.name,value:t.value,id:t.value}),a):React.createElement("a",{href:"#",onClick:s},a)}}),FilterAction=React.createClass({displayName:"FilterAction",render:function(){return React.createElement("div",{className:"filter-action"},React.createElement("a",{style:{display:this.props.multiToggleStatus?"inline":"none"},onClick:this.props.multiToggle,href:"#",className:"multi-toggle"},"多选"),React.createElement("a",{onClick:this.props.expandToggle,href:"#"},this.props.expandToggleStatus?"更多":"收起"))}}),FilterStateTag=React.createClass({displayName:"FilterStateTag",render:function(){var e,t=Array.isArray(this.props.value)?this.props.value:[this.props.value];return e=t.map(function(e,t,s){return this.props.treeView?React.createElement("span",{key:t},e.value," ",React.createElement("span",{className:"tag-remove"},React.createElement("a",{onClick:this.props.onTagRemove.bind(null,e),href:"#"},"×")),t==s.length-1?null:React.createElement("span",null,">")):t==s.length-1?React.createElement("span",{key:t},e.value," ",React.createElement("span",{className:"tag-remove"},React.createElement("a",{onClick:this.props.onTagRemove.bind(null,e),href:"#"},"×"))):React.createElement("span",{key:t},e.value+","," ")}.bind(this)),React.createElement("div",{className:"filter-tag"},React.createElement("div",{className:"tag-name"},this.props.name+":"," "),React.createElement("div",{className:"tag-value"},e))}}),FilterStateBar=React.createClass({displayName:"FilterStateBar",render:function(){var e=this.props.filterState,t=Object.keys(e).map(function(t,s){var a=e[t],i=this.props.getFilterDef(t);return React.createElement(FilterStateTag,{key:s,name:i.name,value:a,treeView:i.treeView,onTagRemove:this.props.onStateDelete.bind(null,t)})}.bind(this));return React.createElement("div",{className:"filter-state"},React.createElement("div",{className:"custom-content"},this.props.children),React.createElement("div",{className:"filter-tags"},t))}}),Filter=React.createClass({displayName:"Filter",getInitialState:function(){return{isMultiSelect:!1,isExpanded:!1,multiSelected:{}}},getDefaultProps:function(){return{canMultiSelect:!1,treeView:!1,options:[]}},multiSelectToggle:function(){this.setState({isMultiSelect:!this.state.isMultiSelect,isExpanded:this.state.isMultiSelect?!1:!0})},expandToggle:function(){this.setState({isMultiSelect:this.state.isExpanded?!1:this.state.isMultiSelect,isExpanded:!this.state.isExpanded})},updateMultiSelected:function(e){var t=this.state.multiSelected;t[e.value]=t[e.value]?null:e,this.setState({multiSelected:t})},confirmMultiSelect:function(){var e=this.state.multiSelected,t=[];for(var s in e)e.hasOwnProperty(s)&&e[s]&&t.push(e[s]);this.props.onSelectOption(t),this.setState({multiSelected:{}}),this.multiSelectToggle()},render:function(){var e=function(e){return this.state.isMultiSelect?void this.updateMultiSelected(e):void this.props.onSelectOption(e)}.bind(this),t=this.props.options.map(function(t,s){return React.createElement("li",{key:s,className:"filter-item"},React.createElement(FilterOption,{value:t,onSelect:e,isMultiSelect:this.state.isMultiSelect}))}.bind(this));return React.createElement("div",{className:"filter"+(this.state.isExpanded?" expanded":"")},React.createElement("div",{className:"head"},React.createElement("h4",{className:"filter-name"},this.props.name)),React.createElement("div",{className:"body"},React.createElement("ul",{className:"filter-items"},t),React.createElement("div",{style:{display:this.state.isMultiSelect?"block":"none"},className:"multi-confirm"},React.createElement("button",{className:"btn-confirm",onClick:this.confirmMultiSelect,type:"button",name:"confirm"},"确定"),React.createElement("button",{className:"btn-cancel",type:"button",name:"cancel",onClick:this.multiSelectToggle},"取消"))),React.createElement("div",{className:"foot"},React.createElement(FilterAction,{multiToggleStatus:this.props.canMultiSelect&&!this.state.isMultiSelect,expandToggleStatus:!this.state.isExpanded,multiToggle:this.multiSelectToggle,expandToggle:this.expandToggle})))}}),FilterGroup=React.createClass({displayName:"FilterGroup",getInitialState:function(){return{filterValues:this.props.filterValues,filterState:{}}},getDefaultProps:function(){return{filterValues:{},onStateChange:function(){}}},componentDidMount:function(){var e=this.props.filterDefs.reduce(function(e,t){return e[t.field]=t,e},{});this.setState({defIndex:e})},setFilterState:function(e){this.isSameState(this.state.filterState,e)||this.setState({filterState:e})},addFilterState:function(e,t){var s=this,a=s.state.defIndex,i=this.state.filterState,r=!1,n=!!i[e];if(a[e].treeView){var c=n?s.findIndex(i[e],t):-1,l=function(){if(!n)return!1;var a=i[e].length,r=s.props.filterValues[e]||[];return s.findIndex(r,t)>-1&&s.findIndex(r,i[e][a-1])>-1};r=!n||c!=i[e].length-1,r&&(i[e]=i[e]||[],c>=0?i[e]=i[e].slice(0,c+1):(l()&&i[e].pop(),i[e].push(t)))}else(!n||t.value!==i[e].value||Array.isArray(t)&&!s.isSameState(t,i[e]))&&(Array.isArray(t)&&0===t.length?s.removeFilterState(e):(i[e]=t,r=!0));r&&(s.setState({filterState:i}),s.props.onStateChange(this.state.filterState))},removeFilterState:function(e,t){var s,a=this.state.defIndex,i=this.state.filterState;a[e].treeView?(s=this.findIndex(i[e],t),0===s?delete i[e]:s>0&&(i[e]=i[e].slice(0,s))):delete i[e],this.setState({filterState:i}),this.props.onStateChange(this.state.filterState)},getFilterDef:function(e){return this.state.defIndex[e]},isSameState:function(e,t){var s=this;return s.isEmptyObj(e)&&!s.isEmptyObj(t)||!s.isEmptyObj(e)&&s.isEmptyObj(t)?!1:s.isEmptyObj(e)&&s.isEmptyObj(t)||Object.keys(e).filter(function(e){return s.props.filterDefs.hasOwnProperty(e)}).every(function(s){return e[s]===t[s]||e[s].value===t[s].value?!0:Array.isArray(e[s])&&Array.isArray(t[s])?e[s].every(function(e,a){return e===t[s][a]||e.value===t[s][a].value}):!1})},isSameValueArray:function(e,t){return e.every(function(e,s){return e.value===t[s].value})},isEmptyObj:function(e){return 0===Object.keys(e).length},findIndex:function(e,t){for(var s=0;s<e.length;s++)if(e[s].value===t.value)return s;return-1},render:function(){var e=this.props.filterDefs.map(function(e,t){var s=this.state.filterValues[e.field]||[];return React.createElement("li",{key:t,style:{display:s.length>0?"block":"none"}},React.createElement(Filter,{name:e.name,field:e.field,canMultiSelect:e.canMultiSelect,treeView:e.treeView,options:s,onSelectOption:this.addFilterState.bind(null,e.field)}))}.bind(this));return React.createElement("div",{className:"cu-filter-group"},React.createElement(FilterStateBar,{filterState:this.state.filterState,getFilterDef:this.getFilterDef,onStateDelete:this.removeFilterState},this.props.children),React.createElement("ul",{className:"filter-group"},e))}}),PaginationBtn=React.createClass({displayName:"PaginationBtn",getDefaultProps:function(){return{text:1,type:"num"}},render:function(){var e="dot"===this.props.type?"...":this.props.text,t=this.props.active?"item active":"item";return"num"!==this.props.type&&(t+=" page "+this.props.type),this.props.disabled&&(t+=" disabled"),React.createElement("li",{className:t,onClick:this.props.changePage},React.createElement("a",null,e))}}),PagiOverview=React.createClass({displayName:"PagiOverview",render:function(){return React.createElement("div",{className:"overview"},"共 ",this.props.pages," 页，")}}),PagiQuickGo=React.createClass({displayName:"PagiQuickGo",getInitialState:function(){return{pageInput:null}},inputChange:function(e){this.setState({pageInput:e.target.value})},quickGo:function(){if(this.state.pageInput){var e=+this.state.pageInput;e=1>e?1:e,e=e>this.props.pages?this.props.pages:e,this.props.setActivePage(e)}},render:function(){return React.createElement("div",{className:"quick-go"},React.createElement("span",null,"到第"),React.createElement("input",{className:"go-page",type:"number",min:"1",max:this.props.pages,onChange:this.inputChange}),React.createElement("span",null,"页"),React.createElement("button",{className:"go-submit",onClick:this.quickGo},"确认"))}}),PagiMain=React.createClass({displayName:"PagiMain",getInitialState:function(){return{pageItems:this.getPageItems(this.props.activePage)}},componentWillReceiveProps:function(e){if(e.activePage!==this.props.activePage){var t=this.getPageItems(e.activePage);this.setState({pageItems:t}),this.props.selected(e.activePage)}},handleItemClick:function(e,t){t="first"===e?1:"prev"===e?1===this.props.activePage?1:this.props.activePage-1:"next"===e?this.props.activePage===this.props.pages?this.props.pages:this.props.activePage+1:"last"===e?this.props.pages:t,t!==this.props.activePage&&this.props.setActivePage(t)},getPageItems:function(e){var t=[],s=this.props.basePages,a=this.props.midPages,i=this.props.pages;return e<=parseInt(a/2)+1?t=this._getSeriesNumber(1,s+a>=i?i:a):e<=parseInt(a/2)+1+s||s+a>=i?t=this._getSeriesNumber(1,s+a>=i?i:e+2):e<i-parseInt(a/2)-1?(t=this._getSeriesNumber(1,this.props.basePages),t.push(0),t=t.concat(this._getSeriesNumber(e-2,a)),i>a+s+2&&t.push(0)):e===i-parseInt(a/2)-1?(t=this._getSeriesNumber(1,this.props.basePages),t.push(0),t=t.concat(this._getSeriesNumber(i-a,a+1))):(t=this._getSeriesNumber(1,this.props.basePages),t.push(0),t=t.concat(this._getSeriesNumber(i-a+1,a))),t},_getSeriesNumber:function(e,t){e=e,t=t;for(var s=[];t--;)s.push(e++);return s},render:function(){var e=[],t=[];return this.props.pages>0&&(this.props.first&&e.push(React.createElement(PaginationBtn,{key:"first",text:this.props.first,disabled:1===this.props.activePage?!0:!1,type:"prev",type:"first",changePage:this.handleItemClick.bind(this,"first")})),this.props.prev&&e.push(React.createElement(PaginationBtn,{key:"prev",text:this.props.prev,disabled:1===this.props.activePage?!0:!1,type:"prev",changePage:this.handleItemClick.bind(this,"prev")})),this.props.next&&t.push(React.createElement(PaginationBtn,{key:"next",text:this.props.next,type:"next",disabled:this.props.activePage===this.props.pages?!0:!1,changePage:this.handleItemClick.bind(this,"next")})),this.props.last&&t.push(React.createElement(PaginationBtn,{key:"last",text:this.props.last,type:"last",disabled:this.props.activePage===this.props.pages?!0:!1,changePage:this.handleItemClick.bind(this,"last")}))),React.createElement("ul",{className:"pagi-main"},e,this.props.pages>0&&this.state.pageItems.map(function(e,t){return React.createElement(PaginationBtn,{key:t,text:e,type:e?"num":"dot",active:e===this.props.activePage?!0:!1,changePage:e?this.handleItemClick.bind(this,"num",e):null})}.bind(this)),t)}}),Pagination=React.createClass({displayName:"Pagination",propTypes:{pages:React.PropTypes.number},getInitialState:function(){return{activePage:this.props.activePage}},getDefaultProps:function(){return{activePage:1,first:null,prev:"上一页",basePages:2,midPages:5,ellipsis:!0,next:"下一页",last:null,theme:"light",quickGo:!1,selected:function(e){console.log(e)}}},setActivePage:function(e){this.setState({activePage:e})},render:function(){var e="light"===this.props.theme?"pagination":"pagination "+this.props.theme;return React.createElement("div",{className:e},React.createElement(PagiMain,React.__spread({},this.props,{activePage:this.state.activePage,setActivePage:this.setActivePage})),this.props.quickGo?React.createElement(PagiOverview,{pages:this.props.pages}):null,this.props.quickGo?React.createElement(PagiQuickGo,{pages:this.props.pages,setActivePage:this.setActivePage}):null)}}),Spinner=React.createClass({displayName:"Spinner",render:function(){return React.createElement("div",{className:"cu-spinner"})}}),ProgressBar=React.createClass({displayName:"ProgressBar",getInitialState:function(){return{rate:null,done:!1}},getDefaultProps:function(){return{speed:.6,spinner:!0,easing:"ease",maxRate:.96,incStep:.04,minStep:.005,maxStep:.03,trickle:!0,trickleSpeed:800,setTrickle:!1}},start:function(){this._init(),this.set("0.5%"),this.props.trickle&&this._autoInc()},set:function(e,t){!t&&this._init(),e=this._format(e),100===e?this.setState({rate:100}):(e=e>100*this.props.maxRate?100*this.props.maxRate:e,this.setState({rate:e}))},inc:function(e){this._init(),this.props.trickle&&this._autoInc(),e=e?this._format(e):100*this.props.incStep;var t=this.state.rate+e;this.set(t+"%",!0)},done:function(){this.set("100%"),setTimeout(function(){this.setState({done:!0}),setTimeout(function(){this.setState({rate:null})}.bind(this),2*this.props.speed*1e3)}.bind(this),1e3*this.props.speed)},_format:function(e){return"number"==typeof e?e>1?100*this.pros.maxRate:100*e:"string"==typeof e?parseFloat(e)>100?100*this.props.maxRate:parseFloat(e):void 0},_init:function(){this.state.done&&this.setState({done:!1}),this.timer&&this._clearInterval()},_autoInc:function(){var e,t;this.timer=setInterval(function(){return t=this._getRadomStep(),e=this.state.rate+t,console.log(t),e>100*this.props.maxRate?(console.log(100*this.props.maxRate),void this._clearInterval()):(console.log(e),void this.set(e+"%",!0))}.bind(this),this.props.trickleSpeed)},_clearInterval:function(){this.timer&&clearInterval(this.timer)},_getRadomStep:function(e,t){return e=e||100*this.props.minStep,t=t||100*this.props.maxStep,Math.random()*(t-e)+e},render:function(){var e={opacity:this.state.done?0:1,transition:"opacity "+2*this.props.speed+"s "+this.props.easing},t={width:this.state.rate?this.state.rate+"%":0,transition:"width "+this.props.speed+"s "+this.props.easing};return this.state.rate?React.createElement("div",{className:"cu-progress",style:e},React.createElement("div",{className:"cu-progress-bar",style:t}),this.props.spinner?React.createElement(Spinner,null):null):null}}),ToolTip=React.createClass({displayName:"ToolTip",getDefaultProps:function(){return{tip:"tip",trigger:"hover",delay:0,hoverable:!1,position:"tip",width:"200px",type:"span",aHref:"#"}},getInitialState:function(){return{position:this.props.position,isActive:!1,isOnTip:!1,tipHeight:""}},handleMouseOver:function(e){"hover"==this.props.trigger&&this.setState({isActive:!0})},handleMouseOut:function(e){"hover"==this.props.trigger&&setTimeout(function(){return this.state.isOnTip?!1:void this.setState({isActive:!1})}.bind(this),this.props.delay)},handleClick:function(e){"click"==this.props.trigger&&(this.state.isActive?this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0}))},handleTipMouseOver:function(e){this.props.hoverable&&(this.setState({isOnTip:!0}),this.setState({isActive:!0}))},handleTipMouseOut:function(e){this.props.hoverable&&(this.setState({isOnTip:!1}),this.setState({isActive:!1}))},componentDidUpdate:function(){this.setTipPosition()},setTipPosition:function(){var e=this.refs.tip.getDOMNode(),t=this.refs.cont.getDOMNode();this.flag||(this.state.tipHeight=e.offsetHeight,this.flag=1);var s=e.offsetWidth,a=e.offsetHeight,i=t.offsetWidth,r=t.offsetHeight;switch(this.state.position){case"left":e.style.top=-(a-r)/2+"px",e.style.left=-(s+20)+"px";break;case"right":e.style.top=-(a-r)/2+"px",e.style.left="100%";break;case"top":e.style.left=-(s-i)/2+"px",e.style.bottom="100%";break;case"bottom":e.style.left=-(s-i)/2+"px",e.style.top="100%";break;default:e.style.top=-(a-r)/2+"px",e.style.left=-(s+20)+"px"}e.style.height=this.state.tipHeight-20+"px",this.prevertTipOverflow()},prevertTipOverflow:function(){var e=this.refs.tip.getDOMNode().getBoundingClientRect().left,t=(this.refs.tip.getDOMNode().getBoundingClientRect().top,this.refs.tip.getDOMNode().offsetWidth),s=(this.refs.tip.getDOMNode().offsetHeight,parseInt(document.body.clientWidth));if(0>e&&e+t>s)return!0;if(0>e){if("left"==this.state.position)return void this.setState({position:"top"});if("top"==this.state.position||"bottom"==this.state.position)return void this.setState({position:"right"})}if(e+t>s){if("right"==this.state.position)return void this.setState({position:"bottom"});if("bottom"==this.state.position||"top"==this.state.position)return void this.setState({position:"left"})}},getTipStyle:function(){return{display:this.state.isActive?"block":"none",color:"pink",backgroundColor:"#333",width:this.props.width}},render:function(){return"span"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("span",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"a"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("a",{href:this.props.aHref,ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"button"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("button",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):void 0}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3NMaXN0L0FkZHJlc3NMaXN0LmpzeCIsIkFkZHJlc3NQaWNrZXIvQWRkcmVzc1BpY2tlci5qc3giLCJBZGRyZXNzU2VhcmNoL0FkZHJlc3NTZWFyY2guanN4IiwiRmlsdGVyR3JvdXAvRmlsdGVyR3JvdXAuanN4IiwiUGFnaW5hdGlvbi9QYWdpbmF0aW9uLmpzeCIsIlByb2dyZXNzQmFyL1Byb2dyZXNzQmFyLmpzeCIsIlRvb2x0aXAvVG9vbHRpcC5qc3giXSwibmFtZXMiOlsiQWRkcmVzc0xpc3QiLCJSZWFjdCIsImNyZWF0ZUNsYXNzIiwiZGlzcGxheU5hbWUiLCJnZXRJbml0aWFsU3RhdGUiLCJub3dBZGRyZXNzIiwiaXNXcmFwU2hvdyIsImhhbmRsZUJ0bkNsaWNrIiwidGhpcyIsInNldFN0YXRlIiwic3RhdGUiLCJoYW5kbGVTZWxlY3RBZGRyZXNzIiwic2VsZWN0Q3QiLCJwcm9wcyIsInNldENpdHkiLCJyZW5kZXIiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiQWRkcmVzc0Ryb3BCdXR0b24iLCJ0cmlhbmdsZVN0YXRlIiwib25DbGljayIsImxvY2FsQWRkcmVzcyIsIkFkZHJlc3NXcmFwIiwiYWRkcmVzc0RhdGEiLCJoYW5kbGVDbGljayIsImNoaWxkcmVuIiwiQWRkcmVzc0xvY2F0aW9uIiwiQWRkcmVzc1NlYXJjaElucHV0IiwiQWRkcmVzc0xpc3RXcmFwIiwicmVzdWx0IiwiaGFuZGxlUmVzdWx0Q2xpY2siLCJlIiwiYWRkcmVzcyIsInRhcmdldCIsImdldEF0dHJpYnV0ZSIsImhhbmRsZVNlYXJjaCIsImV2ZW50IiwiY29udCIsInZhbHVlIiwibGVuIiwibGVuZ3RoIiwicmVnIiwidGVzdCIsIl9yZXN1bHRIIiwiaiIsImtleUgiLCJrZXlIUyIsImNpdHkiLCJzdWJzdHJpbmciLCJGTCIsInRvTG9jYWxlVXBwZXJDYXNlIiwicmVzdWx0RkwiLCJfcmVzdWx0IiwiaSIsImtleSIsInRvTG9jYWxlTG93ZXJDYXNlIiwiX2hhbmRsZVJlc3VsdENsaWNrIiwicmVzdWx0Tm9kZXMiLCJtYXAiLCJkYXRhIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsInJvd05vZGVzIiwiQWRkcmVzc0xpc3RSb3ciLCJrZXlEYXRhIiwiZGF0YU5vZGVzIiwiQWRkcmVzc1BpY2tlciIsImN1cnJlbnRDaXR5Iiwia2V5d29yZCIsImdldERlZmF1bHRQcm9wcyIsImNvbXBvbmVudFdpbGxNb3VudCIsIm15Q2l0eSIsIkJNYXAiLCJMb2NhbENpdHkiLCJnZXQiLCJyZXMiLCJuYW1lIiwiYmluZCIsInNldEFkZHJlc3MiLCJhZCIsImN0IiwiYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlIiwic3R5bGUiLCJBZGRyZXNzSW5wdXQiLCJfX3NwcmVhZCIsInNlYXJjaFN1Ym1pdEhhbmRsZXIiLCJBZGRyZXNzTWFwIiwiYWRkcmVzc0tleXdvcmQiLCJ0aGVtZSIsIkFkZHJlc3NTZWFyY2giLCJpbnB1dFdpZHRoIiwiaW5wdXRUaXAiLCJzZWFyY2hCdG5UZXh0Iiwic2VhcmNoU3VibWl0IiwiZ2V0RE9NTm9kZSIsInNldENvb2tpZSIsImNoZWNrRW50ZXIiLCJrZXlDb2RlIiwiY29tcG9uZW50RGlkTW91bnQiLCJBdXRvY29tcGxldGUiLCJpbnB1dCIsImxvY2F0aW9uIiwia2V5d29yZFN0eWxlIiwid2lkdGgiLCJjb25DbGFzc05hbWUiLCJpZCIsIm9uS2V5VXAiLCJtYXBMb2NhbE9iaiIsIml0ZW1zTnVtYmVyIiwiaXRlbXNMaXN0IiwiaXRlbUFjdGl2ZSIsIm1hcFNlYXJjaGdlb3RhYmxlSWQiLCJtYXBTZWFyY2hUYWdzIiwibWFwU2VhcmNoRmlsdGVyIiwiTWFwIiwiZW5hYmxlTWFwQ2xpY2siLCJjZW50ZXJBbmRab29tIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsImdldE5lYXJieSIsInBhZ2UiLCJteUdlbyIsIkdlb2NvZGVyIiwiX3RoaXMiLCJnZXRQb2ludCIsInBvaW50IiwiJCIsImFqYXgiLCJ0eXBlIiwidXJsIiwiZGF0YVR5cGUiLCJhayIsImdlb3RhYmxlX2lkIiwibG5nIiwibGF0IiwicmFkaXVzIiwicGFnZV9pbmRleCIsInBhZ2Vfc2l6ZSIsImpzb25wIiwic3VjY2VzcyIsInRvdGFsIiwiY29udGVudHMiLCJzaG93TmVhcmJ5IiwiYWxlcnQiLCJrIiwiUG9pbnQiLCJtYXJrZXIiLCJNYXJrZXIiLCJsYWJlbCIsIkxhYmVsIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwicGFyc2VJbnQiLCJvZmZzZXQiLCJTaXplIiwic2V0U3R5bGUiLCJib3JkZXIiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsInNldExhYmVsIiwic2V0VGl0bGUiLCJ0aXRsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzaG93SW5mb1dpbmRvdyIsImdldExhYmVsIiwiY29udGVudCIsImNoYXJDb2RlQXQiLCJhZGRPdmVybGF5IiwiaW5kZXgiLCJpdGVtSW5mbyIsInRlbCIsImluZm9XaW5kb3ciLCJJbmZvV2luZG93IiwicGFuZWwiLCJlbmFibGVBdXRvUGFuIiwib3BlbkluZm9XaW5kb3ciLCJjbGlja01hcEl0ZW0iLCJlbGUiLCJlbGVDbGFzcyIsIml0ZW1JbmRleCIsInBhcmVudE5vZGUiLCJtYXBJdGVtQWN0aWVTdHlsZSIsImRpc3BsYXkiLCJpdGVtIiwiZGF0YS1rZXkiLCJGaWx0ZXJPcHRpb24iLCJvcHRpb25FbGVtZW50Iiwib3B0aW9uVmFsdWUiLCJzZWxlY3QiLCJvblNlbGVjdCIsIm9wdGlvblZhbHVlRWxlbWVudCIsImlzTXVsdGlTZWxlY3QiLCJocmVmIiwiaHRtbEZvciIsIkZpbHRlckFjdGlvbiIsIm11bHRpVG9nZ2xlU3RhdHVzIiwibXVsdGlUb2dnbGUiLCJleHBhbmRUb2dnbGUiLCJleHBhbmRUb2dnbGVTdGF0dXMiLCJGaWx0ZXJTdGF0ZVRhZyIsInRhZ1ZhbHVlTm9kZXMiLCJjdXJyU3RhdGVWYWx1ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJ2YWx1ZXMiLCJ0cmVlVmlldyIsIm9uVGFnUmVtb3ZlIiwiRmlsdGVyU3RhdGVCYXIiLCJmaWx0ZXJTdGF0ZSIsInN0YXRlVGFnTm9kZXMiLCJPYmplY3QiLCJrZXlzIiwiZmllbGQiLCJkZWYiLCJnZXRGaWx0ZXJEZWYiLCJvblN0YXRlRGVsZXRlIiwiRmlsdGVyIiwiaXNFeHBhbmRlZCIsIm11bHRpU2VsZWN0ZWQiLCJjYW5NdWx0aVNlbGVjdCIsIm9wdGlvbnMiLCJtdWx0aVNlbGVjdFRvZ2dsZSIsInVwZGF0ZU11bHRpU2VsZWN0ZWQiLCJjb25maXJtTXVsdGlTZWxlY3QiLCJzZWxlY3RlZE9iaiIsInNlbGVjdGVkQXJyIiwiaGFzT3duUHJvcGVydHkiLCJwdXNoIiwib25TZWxlY3RPcHRpb24iLCJoYW5kbGVTZWxlY3QiLCJvcHRpb25Ob2RlcyIsIm9wdGlvbiIsIkZpbHRlckdyb3VwIiwiZmlsdGVyVmFsdWVzIiwib25TdGF0ZUNoYW5nZSIsImRlZnMiLCJmaWx0ZXJEZWZzIiwicmVkdWNlIiwiZmlsdGVyRGVmIiwiZGVmSW5kZXgiLCJzZXRGaWx0ZXJTdGF0ZSIsImlzU2FtZVN0YXRlIiwiYWRkRmlsdGVyU3RhdGUiLCJ0aGF0IiwiY2hhbmdlZCIsImhhc1ZhbHVlIiwiaW5kZXhPZlRyZWUiLCJmaW5kSW5kZXgiLCJpc1NhbWVMZXZlbCIsImN1cnJlbnRTdGF0ZSIsInNsaWNlIiwicG9wIiwicmVtb3ZlRmlsdGVyU3RhdGUiLCJvIiwibiIsImlzRW1wdHlPYmoiLCJmaWx0ZXIiLCJldmVyeSIsIm9TdGF0ZSIsImlzU2FtZVZhbHVlQXJyYXkiLCJvQXJyIiwibkFyciIsIm9iaiIsImFyciIsImZpbHRlck5vZGVzIiwiUGFnaW5hdGlvbkJ0biIsInRleHQiLCJpdGVtQ2xhc3MiLCJhY3RpdmUiLCJkaXNhYmxlZCIsImNoYW5nZVBhZ2UiLCJQYWdpT3ZlcnZpZXciLCJwYWdlcyIsIlBhZ2lRdWlja0dvIiwicGFnZUlucHV0IiwiaW5wdXRDaGFuZ2UiLCJxdWlja0dvIiwibmV4dFBhZ2UiLCJzZXRBY3RpdmVQYWdlIiwibWluIiwibWF4IiwiUGFnaU1haW4iLCJwYWdlSXRlbXMiLCJnZXRQYWdlSXRlbXMiLCJhY3RpdmVQYWdlIiwic2VsZWN0ZWQiLCJoYW5kbGVJdGVtQ2xpY2siLCJsaXN0IiwiYiIsImJhc2VQYWdlcyIsIm0iLCJtaWRQYWdlcyIsInAiLCJfZ2V0U2VyaWVzTnVtYmVyIiwiY29uY2F0Iiwic3RhcnQiLCJzZXJpZXMiLCJzdGFydEJsb2NrIiwiZW5kQmxvY2siLCJmaXJzdCIsInByZXYiLCJuZXh0IiwibGFzdCIsIlBhZ2luYXRpb24iLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJudW1iZXIiLCJlbGxpcHNpcyIsImNvbnNvbGUiLCJsb2ciLCJwYWdpQ2xhc3MiLCJTcGlubmVyIiwiUHJvZ3Jlc3NCYXIiLCJyYXRlIiwiZG9uZSIsInNwZWVkIiwic3Bpbm5lciIsImVhc2luZyIsIm1heFJhdGUiLCJpbmNTdGVwIiwibWluU3RlcCIsIm1heFN0ZXAiLCJ0cmlja2xlIiwidHJpY2tsZVNwZWVkIiwic2V0VHJpY2tsZSIsIl9pbml0Iiwic2V0IiwiX2F1dG9JbmMiLCJfZm9ybWF0IiwiaW5jIiwibmV3UmF0ZSIsInNldFRpbWVvdXQiLCJwcm9zIiwicGFyc2VGbG9hdCIsInRpbWVyIiwiX2NsZWFySW50ZXJ2YWwiLCJyYW5kb20iLCJzZXRJbnRlcnZhbCIsIl9nZXRSYWRvbVN0ZXAiLCJjbGVhckludGVydmFsIiwiTWF0aCIsInByb2dyZXNzU3R5bGUiLCJvcGFjaXR5IiwidHJhbnNpdGlvbiIsImJhclN0eWxlIiwiVG9vbFRpcCIsInRpcCIsInRyaWdnZXIiLCJkZWxheSIsImhvdmVyYWJsZSIsInBvc2l0aW9uIiwiYUhyZWYiLCJpc0FjdGl2ZSIsImlzT25UaXAiLCJ0aXBIZWlnaHQiLCJoYW5kbGVNb3VzZU92ZXIiLCJoYW5kbGVNb3VzZU91dCIsImhhbmRsZVRpcE1vdXNlT3ZlciIsImhhbmRsZVRpcE1vdXNlT3V0IiwiY29tcG9uZW50RGlkVXBkYXRlIiwic2V0VGlwUG9zaXRpb24iLCJyZWZzIiwiZmxhZyIsIm9mZnNldEhlaWdodCIsInRpcFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJjb250V2lkdGgiLCJjb250SGVpZ2h0IiwidG9wIiwibGVmdCIsImJvdHRvbSIsImhlaWdodCIsInByZXZlcnRUaXBPdmVyZmxvdyIsInRpcFgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhdmFpbFdpZHRoIiwiZG9jdW1lbnQiLCJib2R5IiwiY2xpZW50V2lkdGgiLCJnZXRUaXBTdHlsZSIsInJlZiIsIm9uTW91c2VPdmVyIiwib25Nb3VzZU91dCJdLCJtYXBwaW5ncyI6IkFBQ0EsR0FBSUEsYUFBQUMsTUFBQUMsYUFBaUNDLFlBQUEsY0FDakNDLGdCQUFpQixXQUNiLE9BQ0lDLFdBQVksS0FDWkMsWUFBWSxJQUdwQkMsZUFBZ0IsV0FDWkMsS0FBS0MsVUFBVUgsWUFBYUUsS0FBS0UsTUFBTUosY0FFM0NLLG9CQUFxQixTQUFTQyxHQUMxQkosS0FBS0MsVUFBVUosV0FBWU8sRUFBU04sWUFBWSxJQUM3Q0UsS0FBS0ssTUFBTUMsU0FDVk4sS0FBS0ssTUFBTUMsUUFBUUYsSUFHM0JHLE9BQVEsV0FDSixNQUNJZCxPQUFBZSxjQUFBLE9BQUlDLFVBQUMsZUFDRGhCLE1BQUFlLGNBQUNFLG1CQUFpQkMsY0FBQ1gsS0FBZUUsTUFBS0osV0FBZ0JjLFFBQUVaLEtBQVNELGdCQUM3REMsS0FBS0UsTUFBTUwsV0FBV0csS0FBS0UsTUFBTUwsV0FBV0csS0FBS0ssTUFBTVEsY0FFM0RiLEtBQUtFLE1BQU1KLFdBQ1JMLE1BQUFlLGNBQUNNLGFBQVdDLFlBQUNmLEtBQWFLLE1BQUtVLFlBQWlCRixhQUFFYixLQUFjSyxNQUFLUSxhQUFNVixvQkFBY0gsS0FBbUJHLHNCQUMzRyxTQVFqQk8sa0JBQUFqQixNQUFBQyxhQUF1Q0MsWUFBQSxvQkFDdkNxQixZQUFhLFdBQ1RoQixLQUFLSyxNQUFNTyxXQUVmTCxPQUFRLFdBQ0osTUFDSWQsT0FBQWUsY0FBQSxVQUFPQyxVQUFDLG9CQUFVRyxRQUFvQlosS0FBU2dCLGFBQzFDaEIsS0FBS0ssTUFBTVksU0FDWnhCLE1BQUFlLGNB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QUFBLE9BQUk2VyxZQUFDclgsS0FBYTZWLG1CQUF1QnlCLFdBQUV0WCxLQUFZOFYsa0JBQUtyVixVQUFtQixNQUFVMlcsSUFBQSxNQUFTMVMsTUFBQzFFLEtBQU1tWCxlQUFZblgsS0FBV0ssTUFBSzZVLE1BSTdILFVBQWpCbFYsS0FBS0ssTUFBTW1ILEtBRU4vSCxNQUFBZSxjQUFBLFFBQUtDLFVBQUMsV0FBV1QsS0FBV0UsTUFBS29WLFVBQzdCN1YsTUFBQWUsY0FBQSxVQUFPNFcsSUFBQyxPQUFJQyxZQUFPclgsS0FBYTJWLGdCQUFLMkIsV0FBaUJ0WCxLQUFVNFYsZUFBT2hWLFFBQWdCWixLQUFBZ0IsYUFBY2hCLEtBQWFLLE1BQUNZLFVBQ25IeEIsTUFBQWUsY0FBQSxPQUFJNlcsWUFBQ3JYLEtBQWE2VixtQkFBdUJ5QixXQUFFdFgsS0FBWThWLGtCQUFLclYsVUFBbUIsTUFBVTJXLElBQUEsTUFBUzFTLE1BQUMxRSxLQUFNbVgsZUFBWW5YLEtBQVdLLE1BQUs2VSxNQUpqSiIsImZpbGUiOiJDaGFybS1VSS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIOaVtOS9k+e7hOS7tlxyXG52YXIgQWRkcmVzc0xpc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5vd0FkZHJlc3M6IG51bGwsXHJcbiAgICAgICAgICAgIGlzV3JhcFNob3c6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVCdG5DbGljazogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNXcmFwU2hvdzogIXRoaXMuc3RhdGUuaXNXcmFwU2hvd30pO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZVNlbGVjdEFkZHJlc3M6IGZ1bmN0aW9uKHNlbGVjdEN0KSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bm93QWRkcmVzczogc2VsZWN0Q3QsaXNXcmFwU2hvdzogZmFsc2V9KTtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnNldENpdHkpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXRDaXR5KHNlbGVjdEN0KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMaXN0XCI+XHJcbiAgICAgICAgICAgICAgICA8QWRkcmVzc0Ryb3BCdXR0b24gdHJpYW5nbGVTdGF0ZT17dGhpcy5zdGF0ZS5pc1dyYXBTaG93fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUJ0bkNsaWNrfT5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5ub3dBZGRyZXNzP3RoaXMuc3RhdGUubm93QWRkcmVzczp0aGlzLnByb3BzLmxvY2FsQWRkcmVzc31cclxuICAgICAgICAgICAgICAgIDwvQWRkcmVzc0Ryb3BCdXR0b24+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc1dyYXBTaG93P1xyXG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzV3JhcCBhZGRyZXNzRGF0YT17dGhpcy5wcm9wcy5hZGRyZXNzRGF0YX0gbG9jYWxBZGRyZXNzPXt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc30gaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5oYW5kbGVTZWxlY3RBZGRyZXNzfS8+XHJcbiAgICAgICAgICAgICAgICAgICAgOm51bGxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDkuIvmi4nmjInpkq5cclxudmFyIEFkZHJlc3NEcm9wQnV0dG9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25DbGljaygpO1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJBZGRyZXNzRHJvcEJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9PlxyXG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widHJpYW5nbGUgXCIrdGhpcy5wcm9wcy50cmlhbmdsZVN0YXRlfT48L3NwYW4+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5Zyw5Z2A5pON5L2c5qGG5a655ZmoXHJcbnZhciBBZGRyZXNzV3JhcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzV3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzQ29udFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzTG9jYXRpb24gbG9jYWxBZGRyZXNzPXt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc30gaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzU2VhcmNoSW5wdXQgYWRkcmVzc0RhdGE9e3RoaXMucHJvcHMuYWRkcmVzc0RhdGF9IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzc30gLz5cclxuICAgICAgICAgICAgICAgICAgICA8QWRkcmVzc0xpc3RXcmFwIGFkZHJlc3NEYXRhPXt0aGlzLnByb3BzLmFkZHJlc3NEYXRhfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXt0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3N9IC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlrprkvY3lvZPliY3lnLDlnYBcclxudmFyIEFkZHJlc3NMb2NhdGlvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3ModGhpcy5wcm9wcy5sb2NhbEFkZHJlc3MpO1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTG9jYXRpb25cIj5cclxuICAgICAgICAgICAgICAgIOeMnOS9oOWcqO+8mjxzcGFuIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9Pnt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc308L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5Zyw5Z2A5pCc57SiXHJcbnZhciBBZGRyZXNzU2VhcmNoSW5wdXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3VsdDogW10sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVSZXN1bHRDbGljazogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciBhZGRyZXNzID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhJyk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzKGFkZHJlc3MpO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZVNlYXJjaDogZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgY29udCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICB2YXIgbGVuID0gY29udC5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGFkZHJlc3NEYXRhID0gdGhpcy5wcm9wcy5hZGRyZXNzRGF0YTtcclxuICAgICAgICAvLyDliKTmlq3mmK/msYnlrZfov5jmmK/mi7zpn7NcclxuICAgICAgICB2YXIgcmVnPS9eW1xcdTRFMDAtXFx1OUZBNV0rJC87XHJcbiAgICAgICAgaWYocmVnLnRlc3QoY29udCkpIHtcclxuICAgICAgICAgICAgLy8g5piv5rGJ5a2X5aSE55CGXHJcbiAgICAgICAgICAgIHZhciBfcmVzdWx0SCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaiA9IDA7XHJcbiAgICAgICAgICAgIGZvcih2YXIga2V5SCBpbiBhZGRyZXNzRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBrZXlIUyBpbiBhZGRyZXNzRGF0YVtrZXlIXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGFkZHJlc3NEYXRhW2tleUhdW2tleUhTXS5jaXR5LnN1YnN0cmluZygwLGxlbikgPT0gY29udCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0SFtqXSAgPSBhZGRyZXNzRGF0YVtrZXlIXVtrZXlIU10uY2l0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtyZXN1bHQ6IF9yZXN1bHRIfSk7XHJcbiAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOaYr+aLvOmfs1xyXG4gICAgICAgIHZhciBGTCA9IGNvbnQuc3Vic3RyaW5nKDAsMSkudG9Mb2NhbGVVcHBlckNhc2UoKTtcclxuICAgICAgICB2YXIgcmVzdWx0RkwgPSBhZGRyZXNzRGF0YVtGTF07XHJcbiAgICAgICAgdmFyIF9yZXN1bHQgPSBbXTtcclxuICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gcmVzdWx0RkwpIHtcclxuICAgICAgICAgICAgaWYoa2V5LnN1YnN0cmluZygwLGxlbikgPT0gY29udC50b0xvY2FsZUxvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBfcmVzdWx0W2ldICA9IHJlc3VsdEZMW2tleV0uY2l0eTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3Jlc3VsdDogX3Jlc3VsdH0pO1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIF9oYW5kbGVSZXN1bHRDbGljayA9IHRoaXMuaGFuZGxlUmVzdWx0Q2xpY2s7XHJcbiAgICAgICAgdmFyIHJlc3VsdE5vZGVzID0gdGhpcy5zdGF0ZS5yZXN1bHQubWFwKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxsaSBkYXRhPXtyZXN1bHR9IG9uQ2xpY2s9e19oYW5kbGVSZXN1bHRDbGlja30+e3Jlc3VsdH08L2xpPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc1NlYXJjaFwiPlxyXG4gICAgICAgICAgICAgICAg55u05o6l5pCc57SiXHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgb25DaGFuZ2U9e3RoaXMuaGFuZGxlU2VhcmNofSBwbGFjZWhvbGRlcj1cIuivt+i+k+WFpeWfjuW4guWQjVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwiQWRkcmVzc1NlYXJjaFJlc3VsdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtyZXN1bHROb2Rlc31cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5Zyw5Z2A5YiX6KGo5a655ZmoXHJcbnZhciBBZGRyZXNzTGlzdFdyYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBhZGRyZXNzRGF0YSA9IHRoaXMucHJvcHMuYWRkcmVzc0RhdGE7XHJcbiAgICAgICAgdmFyIGhhbmRsZVNlbGVjdEFkZHJlc3MgPSB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3M7XHJcbiAgICAgICAgdmFyIHJvd05vZGVzID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgY29udCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRbaV0gID0gPEFkZHJlc3NMaXN0Um93IGtleT17a2V5fSBrZXlEYXRhPXtrZXl9IGRhdGE9e2RhdGFba2V5XX0gaGFuZGxlU2VsZWN0QWRkcmVzcz17aGFuZGxlU2VsZWN0QWRkcmVzc30gLz47XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnQ7XHJcbiAgICAgICAgfShhZGRyZXNzRGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTGlzdFdyYXBcIj5cclxuICAgICAgICAgICAgICAgIHtyb3dOb2Rlc31cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlnLDlnYDliJfooajooYxcclxudmFyIEFkZHJlc3NMaXN0Um93ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgYWRkcmVzcyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YScpO1xyXG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzcyhhZGRyZXNzKTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2s7XHJcbiAgICAgICAgdmFyIGRhdGFOb2RlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnQgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb250W2ldICA9IDxzcGFuIGtleT17XCJwXCIra2V5fT48c3BhbiBkYXRhPXtkYXRhW2tleV0uY2l0eX0ga2V5PXtpfSAgb25DbGljaz17aGFuZGxlQ2xpY2t9ID57ZGF0YVtrZXldLmNpdHl9PC9zcGFuPjwvc3Bhbj47XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnQ7XHJcbiAgICAgICAgfSh0aGlzLnByb3BzLmRhdGEpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc0xpc3RSb3dcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImtleURhdGFcIj57dGhpcy5wcm9wcy5rZXlEYXRhfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRhdGFXcmFwXCI+e2RhdGFOb2Rlc308L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG4iLCIndXNlIHN0cmljdCdcclxuXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyAgSW5jbHVkZTogQWRkcmVzc0xpc3QgQWRkcmVzc1NlYXJjaFxyXG4vL1xyXG4vLyAgVE9ETzpcclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG52YXIgQWRkcmVzc1BpY2tlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY2l0eTogXCLljJfkuqxcIixcclxuICAgICAgY3VycmVudENpdHk6IG51bGwsXHJcbiAgICAgIGFkZHJlc3M6IHRoaXMucHJvcHMua2V5d29yZFxyXG4gICAgfTtcclxuICB9LFxyXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge307XHJcbiAgfSxcclxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG15Q2l0eSA9IG5ldyBCTWFwLkxvY2FsQ2l0eSgpO1xyXG4gICAgbXlDaXR5XHJcbiAgICAgIC5nZXQoZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRDaXR5ID0gcmVzLm5hbWU7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGN1cnJlbnRDaXR5OiBjdXJyZW50Q2l0eVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LmJpbmQodGhpcykpO1xyXG4gIH0sXHJcbiAgc2V0QWRkcmVzczogZnVuY3Rpb24oYWQpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhZGRyZXNzOiBhZFxyXG4gICAgfSk7XHJcbiAgfSxcclxuICBzZXRDaXR5OiBmdW5jdGlvbihjdCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGNpdHk6IGN0XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlID0gdGhpcy5zdGF0ZS5hZGRyZXNzXHJcbiAgICAgID8gdGhpcy5wcm9wcy5hZGRyZXNzUGlja2VyQWN0aXZlU3R5bGVcclxuICAgICAgOiB7fTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkcmVzcy1waWNrZXJcIiBzdHlsZT17YWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlfT5cclxuICAgICAgICA8QWRkcmVzc0xpc3Qgc2V0Q2l0eT17dGhpcy5zZXRDaXR5fSBsb2NhbEFkZHJlc3M9e3RoaXMuc3RhdGUuY3VycmVudENpdHl9IGFkZHJlc3NEYXRhPXt0aGlzLnByb3BzLmFkZHJlc3NEYXRhfS8+XHJcbiAgICAgICAgPEFkZHJlc3NJbnB1dCB7Li4udGhpcy5wcm9wc30gY2l0eT17dGhpcy5zdGF0ZS5jaXR5fSBzZWFyY2hTdWJtaXRIYW5kbGVyPXt0aGlzLnNldEFkZHJlc3N9Lz5cclxuICAgICAgICA8QWRkcmVzc01hcCBhZGRyZXNzS2V5d29yZD17dGhpcy5zdGF0ZS5hZGRyZXNzfSBjaXR5PXt0aGlzLnByb3BzLmNpdHl9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfSAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59KTtcclxuIiwiJ3VzZSBzdHJpY3QnXG5cbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyAgSW5jbHVkZTogQWRkcmVzc0lucHV0IEFkZHJlc3NNYXBcclxuLy9cclxuLy8gIFRPRE86IFthZGRdIOWinuWKoOWQhOmhueWPguaVsFxyXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXG4vKiBBZGRyZXNzU2VhcmNoICovXG52YXIgQWRkcmVzc1NlYXJjaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWRkcmVzczogbnVsbFxuICAgIH07XG4gIH0sXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlucHV0V2lkdGg6IDQwMCxcbiAgICAgIGlucHV0VGlwOiBcIui+k+WFpeaDs+imgeaQnOe0oueahOWcsOWdgFwiLFxuICAgICAgc2VhcmNoQnRuVGV4dDogXCLmkJzntKJcIixcbiAgICAgIGNpdHk6IFwi5YyX5LqsXCIsXG4gICAgICB0aGVtZTogXCJkYXJrXCJcbiAgICB9XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG15Q2l0eSA9IG5ldyBCTWFwLkxvY2FsQ2l0eSgpO1xuICAgIG15Q2l0eVxuICAgICAgLmdldChmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRDaXR5ID0gcmVzLm5hbWU7XG4gICAgICAgIHRoaXMuc2V0Q2l0eShjdXJyZW50Q2l0eSk7XG4gICAgICB9LmJpbmQodGhpcykpO1xuICB9LFxuICBzZXRBZGRyZXNzOiBmdW5jdGlvbihhZCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYWRkcmVzczogYWRcbiAgICB9KTtcbiAgfSxcbiAgc2V0Q2l0eTogZnVuY3Rpb24oY3QpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNpdHk6IGN0XG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkcmVzcy1zZWFyY2hcIj5cbiAgICAgICAgPEFkZHJlc3NJbnB1dCB7Li4udGhpcy5wcm9wc30gc2VhcmNoU3VibWl0SGFuZGxlcj17dGhpcy5zZXRBZGRyZXNzfSAvPlxuICAgICAgICA8QWRkcmVzc01hcCBhZGRyZXNzS2V5d29yZD17dGhpcy5zdGF0ZS5hZGRyZXNzfSBjaXR5PXt0aGlzLnByb3BzLmNpdHl9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIEFkZHJlc3NJbnB1dCAqL1xudmFyIEFkZHJlc3NJbnB1dCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAga2V5d29yZDogdGhpcy5wcm9wcy5rZXl3b3JkXG4gICAgfTtcbiAgfSxcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5wdXRXaWR0aDogNDAwLFxuICAgICAgaW5wdXRUaXA6IFwi6L6T5YWl5oOz6KaB5pCc57Si55qE5Zyw5Z2AXCIsXG4gICAgICBzZWFyY2hCdG5UZXh0OiBcIuaQnOe0olwiLFxuICAgICAgY2l0eTogXCLljJfkuqxcIixcbiAgICAgIHRoZW1lOiBcImxpZ2h0XCJcbiAgICB9XG4gIH0sXG4gIHNlYXJjaFN1Ym1pdDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGtleXdvcmQgPSB0aGlzLmdldERPTU5vZGUoKVxuICAgICAgLmNoaWxkcmVuWzBdXG4gICAgICAudmFsdWU7XG4gICAgdGhpcy5wcm9wc1xuICAgICAgLnNlYXJjaFN1Ym1pdEhhbmRsZXIoa2V5d29yZCk7XG4gICAgc2V0Q29va2llKCdzZWFyY2hLZXl3b3JkJywga2V5d29yZCwgMzApO1xuICB9LFxuICBjaGVja0VudGVyOiBmdW5jdGlvbihlKSB7XG4gICAgKGUua2V5Q29kZSA9PT0gMTMpICYmIHRoaXMuc2VhcmNoU3VibWl0KCk7XG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbWFwQXV0b0NvbXBsZXRlID0gbmV3IEJNYXAuQXV0b2NvbXBsZXRlKHtcbiAgICAgIFwiaW5wdXRcIjogXCJfYWRkcmVzc1NlYXJjaEtleXdvcmRcIixcbiAgICAgIFwibG9jYXRpb25cIjogdGhpcy5wcm9wcy5jaXR5XG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGtleXdvcmRTdHlsZSA9IHtcbiAgICAgIHdpZHRoOiB0aGlzLnByb3BzLmlucHV0V2lkdGhcbiAgICB9O1xuICAgIHZhciBjb25DbGFzc05hbWUgPSBcImFkZHJlc3MtaW5wdXRcIjtcbiAgICBzd2l0Y2ggKHRoaXMucHJvcHMudGhlbWUpIHtcbiAgICBjYXNlICdsaWdodCcgOlxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGFyaycgOlxuICAgICAgY29uQ2xhc3NOYW1lICs9IFwiIGRhcmtcIjtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQgOlxuXG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y29uQ2xhc3NOYW1lfT5cbiAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImlucHV0LWtleXdvcmRcIiBpZD1cIl9hZGRyZXNzU2VhcmNoS2V5d29yZFwiIG9uS2V5VXA9e3RoaXMuY2hlY2tFbnRlcn0gcGxhY2Vob2xkZXI9e3RoaXMuc3RhdGUua2V5d29yZCB8fCB0aGlzLnByb3BzLmlucHV0VGlwfSBzdHlsZT17a2V5d29yZFN0eWxlfT48L2lucHV0PlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImlucHV0LWNvbW1pdFwiIG9uQ2xpY2s9e3RoaXMuc2VhcmNoU3VibWl0fT57dGhpcy5wcm9wcy5zZWFyY2hCdG5UZXh0fTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIEFkZHJlc3NNYXAgKi9cbnZhciBBZGRyZXNzTWFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXBMb2NhbE9iajogbnVsbCxcbiAgICAgIGl0ZW1zTnVtYmVyOiAwLFxuICAgICAgaXRlbXNMaXN0OiBbXSxcbiAgICAgIGl0ZW1BY3RpdmU6IDBcbiAgICB9O1xuICB9LFxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXBTZWFyY2hnZW90YWJsZUlkOiAxMjE3NjMsXG4gICAgICBtYXBTZWFyY2hUYWdzOiBcIlwiLFxuICAgICAgbWFwU2VhcmNoRmlsdGVyOiBcIlwiLFxuICAgICAgdGhlbWU6IFwibGlnaHRcIlxuICAgIH1cbiAgfSxcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubWFwID0gbmV3IEJNYXAuTWFwKFwiX2FkZHJlc3NNYXBNYWluXCIsIHtcbiAgICAgIGVuYWJsZU1hcENsaWNrOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMubWFwXG4gICAgICAuY2VudGVyQW5kWm9vbSh0aGlzLnByb3BzLmNpdHksIDEyKTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24obmV4dFByb3BzKSB7XG4gICAgbmV4dFByb3BzLmFkZHJlc3NLZXl3b3JkICYmIHRoaXMuZ2V0TmVhcmJ5KG5leHRQcm9wcy5hZGRyZXNzS2V5d29yZCk7XG4gIH0sXG4gIGdldE5lYXJieTogZnVuY3Rpb24oa2V5d29yZCwgcGFnZSkge1xuICAgIC8vIOWcsOWdgOino+aekOiOt+WPlue7j+e6rOW6plxyXG4gICAgdmFyIG15R2VvID0gbmV3IEJNYXAuR2VvY29kZXIoKTtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIG15R2VvXG4gICAgICAuZ2V0UG9pbnQoa2V5d29yZCwgZnVuY3Rpb24ocG9pbnQpIHsgLy8g6Kej5p6Q5oiQ5Yqf5ZCO55qE5Zue6LCDIOaQnOe0ouS/oeaBr1xyXG4gICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnZ2V0JyxcbiAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9hcGkubWFwLmJhaWR1LmNvbS9nZW9zZWFyY2gvdjMvbmVhcmJ5JyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25wXCIsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGFrOiAnc2RwOXFDYlRvUzdFMjNuRFJ4YUFBd2JoJyxcbiAgICAgICAgICAgICAgZ2VvdGFibGVfaWQ6IDEyMTc2MyxcbiAgICAgICAgICAgICAgbG9jYXRpb246IHBvaW50LmxuZyArICcsJyArIHBvaW50LmxhdCxcbiAgICAgICAgICAgICAgcmFkaXVzOiAxMDAwMCxcbiAgICAgICAgICAgICAgcGFnZV9pbmRleDogcGFnZSB8fCAwLFxuICAgICAgICAgICAgICBwYWdlX3NpemU6IDUwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAganNvbnA6ICdjYWxsYmFjaycsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGl0ZW1zTnVtYmVyOiByZXMudG90YWwsXG4gICAgICAgICAgICAgICAgaXRlbXNMaXN0OiByZXMuY29udGVudHNcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIF90aGlzLnNob3dOZWFyYnkoKTtcbiAgICAgICAgICAgICAgX3RoaXMubWFwXG4gICAgICAgICAgICAgICAgLmNlbnRlckFuZFpvb20oX3RoaXMucHJvcHMuYWRkcmVzc0tleXdvcmQsIDEyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFsZXJ0KFwi5pyq5om+5Yiw6K+l5Yy65Z+f5L+h5oGvXCIpO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMuY2l0eSk7XG4gIH0sXG4gIHNob3dOZWFyYnk6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgZm9yICh2YXIgayBpbiB0aGlzLnN0YXRlLml0ZW1zTGlzdCkge1xuICAgICAgdmFyIHBvaW50ID0gbmV3IEJNYXAuUG9pbnQodGhpcy5zdGF0ZS5pdGVtc0xpc3Rba10ubG9jYXRpb25bMF0sIHRoaXMuc3RhdGUuaXRlbXNMaXN0W2tdLmxvY2F0aW9uWzFdKTtcbiAgICAgIHZhciBtYXJrZXIgPSBuZXcgQk1hcC5NYXJrZXIocG9pbnQpO1xuICAgICAgdmFyIGxhYmVsID0gbmV3IEJNYXAuTGFiZWwoU3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIHBhcnNlSW50KGspKSwge1xuICAgICAgICBvZmZzZXQ6IG5ldyBCTWFwLlNpemUoNCwgMilcbiAgICAgIH0pO1xuICAgICAgbGFiZWwuc2V0U3R5bGUoe1xuICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBjb2xvcjogJyNGQUZBRkEnXG4gICAgICB9KTtcbiAgICAgIG1hcmtlci5zZXRMYWJlbChsYWJlbCk7XG4gICAgICBtYXJrZXIuc2V0VGl0bGUodGhpcy5zdGF0ZS5pdGVtc0xpc3Rba10udGl0bGUpO1xuICAgICAgbWFya2VyXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBfdGhpcy5zaG93SW5mb1dpbmRvdyh0aGlzLmdldExhYmVsKCkuY29udGVudC5jaGFyQ29kZUF0KDApIC0gNjUpO1xuICAgICAgICB9KTtcbiAgICAgIHRoaXMubWFwXG4gICAgICAgIC5hZGRPdmVybGF5KG1hcmtlcik7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuaXRlbXNMaXN0Lmxlbmd0aCAmJiB0aGlzLnNob3dJbmZvV2luZG93KDApO1xuICB9LFxuICBzaG93SW5mb1dpbmRvdzogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggIT09IHRoaXMuc3RhdGUuaXRlbUFjdGl2ZSB8fCAxKSB7XG4gICAgICB2YXIgcG9pbnQgPSBuZXcgQk1hcC5Qb2ludCh0aGlzLnN0YXRlLml0ZW1zTGlzdFtpbmRleF0ubG9jYXRpb25bMF0sIHRoaXMuc3RhdGUuaXRlbXNMaXN0W2luZGV4XS5sb2NhdGlvblsxXSk7XG4gICAgICB2YXIgaXRlbUluZm8gPSB0aGlzLnN0YXRlLml0ZW1zTGlzdFtpbmRleF07XG4gICAgICB2YXIgdGl0bGUgPSBpdGVtSW5mby50aXRsZTtcbiAgICAgIHZhciBhZGRyZXNzID0gaXRlbUluZm8uYWRkcmVzcztcbiAgICAgIHZhciB0ZWwgPSBpdGVtSW5mby50ZWw7XG4gICAgICB2YXIgY29udGVudCA9ICc8cCBjbGFzcz1cIm1hcC1pbmZvLXdpbmRvd1wiPuWcsOWdgO+8micgKyBhZGRyZXNzICsgJzwvcD4nO1xuICAgICAgdmFyIGluZm9XaW5kb3cgPSBuZXcgQk1hcC5JbmZvV2luZG93KGNvbnRlbnQsIHtcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICB3aWR0aDogMjkwLFxuICAgICAgICBwYW5lbDogXCJwYW5lbFwiLFxuICAgICAgICBlbmFibGVBdXRvUGFuOiB0cnVlLFxuICAgICAgICBvZmZzZXQ6IG5ldyBCTWFwLlNpemUoMCwgLTI1KVxuICAgICAgfSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXRlbUFjdGl2ZTogKyBpbmRleFxuICAgICAgfSk7XG4gICAgICB0aGlzLm1hcFxuICAgICAgICAub3BlbkluZm9XaW5kb3coaW5mb1dpbmRvdywgcG9pbnQpO1xuICAgIH1cbiAgfSxcbiAgY2xpY2tNYXBJdGVtOiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGVsZSA9IGUudGFyZ2V0O1xuICAgIHZhciBlbGVDbGFzcyA9IGVsZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgdmFyIGl0ZW1JbmRleCA9IDA7XG4gICAgaWYgKGVsZUNsYXNzID09PSBcIm1hcC1pdGVtXCIpIHtcbiAgICAgIGl0ZW1JbmRleCA9IGVsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XG4gICAgfSBlbHNlIGlmIChlbGVDbGFzcyA9PT0gXCJtYXAtaXRlbS1tYXJrXCIgfHwgZWxlQ2xhc3MgPT09IFwibWFwLWl0ZW0tbWFpblwiKSB7XG4gICAgICBpdGVtSW5kZXggPSBlbGUucGFyZW50Tm9kZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xuICAgIH0gZWxzZSBpZiAoIWVsZUNsYXNzKSB7XG4gICAgICBpdGVtSW5kZXggPSBlbGUucGFyZW50Tm9kZVxuICAgICAgICAucGFyZW50Tm9kZVxuICAgICAgICAucGFyZW50Tm9kZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtSW5kZXggPSBlbGUucGFyZW50Tm9kZVxuICAgICAgICAucGFyZW50Tm9kZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xuICAgIH1cbiAgICB0aGlzLnNob3dJbmZvV2luZG93KGl0ZW1JbmRleCk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvbkNsYXNzTmFtZSA9IFwiYWRkcmVzcy1tYXBcIjtcbiAgICBzd2l0Y2ggKHRoaXMucHJvcHMudGhlbWUpIHtcbiAgICBjYXNlICdsaWdodCcgOlxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGFyaycgOlxuICAgICAgY29uQ2xhc3NOYW1lICs9IFwiIGRhcmtcIjtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQgOlxuXG4gICAgfVxuICAgIHZhciBtYXBJdGVtQWN0aWVTdHlsZSA9IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMTgxMjExXCJcbiAgICB9O1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y29uQ2xhc3NOYW1lfSBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiB0aGlzLnByb3BzLmFkZHJlc3NLZXl3b3JkXG4gICAgICAgICAgPyBcImJsb2NrXCJcbiAgICAgICAgICA6IFwibm9uZVwiXG4gICAgICB9fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtbmF2XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtbmF2LXRpdGxlXCI+XG4gICAgICAgICAgICDpmYTov5HmnIlcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hcC1uYXYtbnVtYmVyXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLml0ZW1zTnVtYmVyfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAg5a625L2T6aqM5bqXXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm1hcC1pdGVtc1wiIGlkPVwiX2FkZHJlc3NNYXBJdGVtc1wiIG9uQ2xpY2s9e3RoaXMuY2xpY2tNYXBJdGVtfT5cbiAgICAgICAgICAgIHt0aGlzXG4gICAgICAgICAgICAgIC5zdGF0ZVxuICAgICAgICAgICAgICAuaXRlbXNMaXN0XG4gICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cIm1hcC1pdGVtXCIgZGF0YS1rZXk9e2l9IGtleT17aX0gc3R5bGU9eyhpID09PSB0aGlzLnN0YXRlLml0ZW1BY3RpdmUpXG4gICAgICAgICAgICAgICAgICA/IG1hcEl0ZW1BY3RpZVN0eWxlXG4gICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgIHt9fT5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hcC1pdGVtLW1hcmtcIj57U3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGkpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tbWFpblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1pdGVtLXRpdGxlXCI+e2l0ZW0udGl0bGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tYWRkcmVzc1wiPuWcsOWdgO+8mntpdGVtLmFkZHJlc3N9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tdGVsXCI+55S16K+d77yae2l0ZW0udGVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9saT47XG4gICAgICAgICAgICAgIH0uYmluZCh0aGlzKSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW1haW5cIiBpZD1cIl9hZGRyZXNzTWFwTWFpblwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG4iLCJcclxuLyogRmlsdGVyR3JvdXAgKi9cclxuXHJcbi8qIOavj+adoei/h+a7pOWZqOeahOavj+S4qumAiemhuSAqL1xyXG52YXIgRmlsdGVyT3B0aW9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIHJlbmRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG9wdGlvblZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZTtcclxuICAgIHZhciBzZWxlY3QgPSB0aGlzLnByb3BzLm9uU2VsZWN0LmJpbmQobnVsbCwgb3B0aW9uVmFsdWUpO1xyXG4gICAgdmFyIG9wdGlvbkVsZW1lbnQ7XHJcbiAgICB2YXIgb3B0aW9uVmFsdWVFbGVtZW50ID0gPHNwYW4+e29wdGlvblZhbHVlLnZhbHVlfTwvc3Bhbj47XHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc011bHRpU2VsZWN0KSB7XHJcbiAgICAgIG9wdGlvbkVsZW1lbnQgPSAoXHJcbiAgICAgICAgPGxhYmVsIGhyZWY9XCIjXCIgaHRtbEZvcj17b3B0aW9uVmFsdWUubmFtZX0+XHJcbiAgICAgICAgICA8aW5wdXQgb25DbGljaz17c2VsZWN0fSB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPXtvcHRpb25WYWx1ZS5uYW1lfSB2YWx1ZT17b3B0aW9uVmFsdWUudmFsdWV9IGlkPXtvcHRpb25WYWx1ZS52YWx1ZX0gLz5cclxuICAgICAgICAgIHtvcHRpb25WYWx1ZUVsZW1lbnR9XHJcbiAgICAgICAgPC9sYWJlbD5cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBvcHRpb25FbGVtZW50ID0gKFxyXG4gICAgICAgIDxhIGhyZWY9XCIjXCIgb25DbGljaz17c2VsZWN0fT5cclxuICAgICAgICAgIHtvcHRpb25WYWx1ZUVsZW1lbnR9XHJcbiAgICAgICAgPC9hPlxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9wdGlvbkVsZW1lbnQ7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qIOavj+adoei/h+a7pOWZqOeahOmineWkluaTjeS9nCAqL1xyXG52YXIgRmlsdGVyQWN0aW9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIHJlbmRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWx0ZXItYWN0aW9uXCI+XHJcbiAgICAgICAgPGEgc3R5bGU9e3tkaXNwbGF5OiB0aGlzLnByb3BzLm11bHRpVG9nZ2xlU3RhdHVzID8gJ2lubGluZScgOiAnbm9uZSd9fVxyXG4gICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5tdWx0aVRvZ2dsZX0gaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJtdWx0aS10b2dnbGVcIj7lpJrpgIk8L2E+XHJcbiAgICAgICAgPGEgb25DbGljaz17dGhpcy5wcm9wcy5leHBhbmRUb2dnbGV9IGhyZWY9XCIjXCI+XHJcbiAgICAgICAgICB7dGhpcy5wcm9wcy5leHBhbmRUb2dnbGVTdGF0dXMgPyAn5pu05aSaJyA6ICfmlLbotbcnfVxyXG4gICAgICAgIDwvYT5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKiDnirbmgIHmoIfnrb4gKi9cclxudmFyIEZpbHRlclN0YXRlVGFnID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIHJlbmRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRhZ1ZhbHVlTm9kZXM7XHJcbiAgICB2YXIgY3VyclN0YXRlVmFsdWVzID0gIEFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy52YWx1ZSkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudmFsdWUgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLnByb3BzLnZhbHVlXTtcclxuICAgIHRhZ1ZhbHVlTm9kZXMgPSBjdXJyU3RhdGVWYWx1ZXMubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIHZhbHVlcykge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy50cmVlVmlldykge1xyXG4gICAgICAgIC8vIHN0YXRlIOS4uiB0cmVlVmlld1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8c3BhbiBrZXk9e2luZGV4fT5cclxuICAgICAgICAgICAge3ZhbHVlLnZhbHVlfSZuYnNwO1xyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0YWctcmVtb3ZlXCI+XHJcbiAgICAgICAgICAgICAgPGEgb25DbGljaz17dGhpcy5wcm9wcy5vblRhZ1JlbW92ZS5iaW5kKG51bGwsIHZhbHVlKX0gaHJlZj1cIiNcIj4mdGltZXM7PC9hPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpbmRleCA9PSB2YWx1ZXMubGVuZ3RoIC0gMSA/XHJcbiAgICAgICAgICAgICAgICBudWxsIDpcclxuICAgICAgICAgICAgICAgICg8c3Bhbj4mZ3Q7PC9zcGFuPilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gc3RhdGUg5LiN5pivIHRyZWVWaWV3IOS9huWPr+iDveS4uuWkmumAieeKtuaAgVxyXG4gICAgICBpZiAoaW5kZXggPT0gdmFsdWVzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPHNwYW4ga2V5PXtpbmRleH0+XHJcbiAgICAgICAgICAgIHt2YWx1ZS52YWx1ZX0mbmJzcDtcclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGFnLXJlbW92ZVwiPlxyXG4gICAgICAgICAgICAgIDxhIG9uQ2xpY2s9e3RoaXMucHJvcHMub25UYWdSZW1vdmUuYmluZChudWxsLCB2YWx1ZSl9IGhyZWY9XCIjXCI+JnRpbWVzOzwvYT5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxzcGFuIGtleT17aW5kZXh9PlxyXG4gICAgICAgICAgICB7dmFsdWUudmFsdWUgKyAnLCd9Jm5ic3A7XHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbHRlci10YWdcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhZy1uYW1lXCI+e3RoaXMucHJvcHMubmFtZSArICc6J30mbmJzcDs8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhZy12YWx1ZVwiPlxyXG4gICAgICAgICAge3RhZ1ZhbHVlTm9kZXN9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyog54q25oCB5qCH562+5qCPICovXHJcbnZhciBGaWx0ZXJTdGF0ZUJhciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBmaWx0ZXJTdGF0ZSA9IHRoaXMucHJvcHMuZmlsdGVyU3RhdGU7XHJcbiAgICB2YXIgc3RhdGVUYWdOb2RlcyA9IE9iamVjdC5rZXlzKGZpbHRlclN0YXRlKVxyXG4gICAgICAubWFwKGZ1bmN0aW9uIChmaWVsZCwgaW5kZXgpIHtcclxuICAgICAgICB2YXIgc3RhdGUgPSBmaWx0ZXJTdGF0ZVtmaWVsZF07XHJcbiAgICAgICAgdmFyIGRlZiA9IHRoaXMucHJvcHMuZ2V0RmlsdGVyRGVmKGZpZWxkKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPEZpbHRlclN0YXRlVGFnXHJcbiAgICAgICAgICAgIGtleT17aW5kZXh9XHJcbiAgICAgICAgICAgIG5hbWU9e2RlZi5uYW1lfVxyXG4gICAgICAgICAgICB2YWx1ZT17c3RhdGV9XHJcbiAgICAgICAgICAgIHRyZWVWaWV3PXtkZWYudHJlZVZpZXd9XHJcbiAgICAgICAgICAgIG9uVGFnUmVtb3ZlPXt0aGlzLnByb3BzLm9uU3RhdGVEZWxldGUuYmluZChudWxsLCBmaWVsZCl9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICk7XHJcbiAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbHRlci1zdGF0ZVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3VzdG9tLWNvbnRlbnRcIj5cclxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsdGVyLXRhZ3NcIj5cclxuICAgICAgICAgIHtzdGF0ZVRhZ05vZGVzfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qIOWNleadoei/h+a7pOWZqCAqL1xyXG52YXIgRmlsdGVyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNNdWx0aVNlbGVjdDogZmFsc2UsXHJcbiAgICAgIGlzRXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBtdWx0aVNlbGVjdGVkOiB7fSAgICAvLyDmmoLml7booqvlpJrpgInkuK3nmoTpgInpoblcclxuICAgIH07XHJcbiAgfSxcclxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNhbk11bHRpU2VsZWN0OiBmYWxzZSxcclxuICAgICAgdHJlZVZpZXc6IGZhbHNlLFxyXG4gICAgICBvcHRpb25zOiBbXSxcclxuICAgIH07XHJcbiAgfSxcclxuICBtdWx0aVNlbGVjdFRvZ2dsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGlzTXVsdGlTZWxlY3Q6ICF0aGlzLnN0YXRlLmlzTXVsdGlTZWxlY3QsXHJcbiAgICAgIC8vIOiLpeeUsemdnuWkmumAieWIsOWkmumAie+8jOWImeiHquWKqOWxleW8gFxyXG4gICAgICBpc0V4cGFuZGVkOiB0aGlzLnN0YXRlLmlzTXVsdGlTZWxlY3QgPyBmYWxzZSA6IHRydWVcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgZXhwYW5kVG9nZ2xlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgLy8g6Iul55Sx5bGV5byA5Yiw5pS26LW377yM5YiZ5Y+W5raI5aSa6YCJ54q25oCBXHJcbiAgICAgIGlzTXVsdGlTZWxlY3Q6IHRoaXMuc3RhdGUuaXNFeHBhbmRlZCA/IGZhbHNlIDogdGhpcy5zdGF0ZS5pc011bHRpU2VsZWN0LFxyXG4gICAgICBpc0V4cGFuZGVkOiAhdGhpcy5zdGF0ZS5pc0V4cGFuZGVkXHJcbiAgICB9KTtcclxuICB9LFxyXG4gIC8vIOeUqOS6juabtOaWsOaaguaXtuiiq+WkmumAieS4reeahOmAiemhueeKtuaAgVxyXG4gIHVwZGF0ZU11bHRpU2VsZWN0ZWQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgdmFyIG11bHRpU2VsZWN0ZWQgPSB0aGlzLnN0YXRlLm11bHRpU2VsZWN0ZWQ7XHJcbiAgICBtdWx0aVNlbGVjdGVkW3ZhbHVlLnZhbHVlXSA/XHJcbiAgICAgIG11bHRpU2VsZWN0ZWRbdmFsdWUudmFsdWVdID0gbnVsbCA6XHJcbiAgICAgIG11bHRpU2VsZWN0ZWRbdmFsdWUudmFsdWVdID0gdmFsdWU7XHJcbiAgICB0aGlzLnNldFN0YXRlKHttdWx0aVNlbGVjdGVkOiBtdWx0aVNlbGVjdGVkfSk7XHJcbiAgfSxcclxuICAvLyDnoa7orqTlpJrpgInnmoTnirbmgIFcclxuICBjb25maXJtTXVsdGlTZWxlY3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxlY3RlZE9iaiA9IHRoaXMuc3RhdGUubXVsdGlTZWxlY3RlZDtcclxuICAgIHZhciBzZWxlY3RlZEFyciA9IFtdO1xyXG4gICAgZm9yICh2YXIga2V5IGluIHNlbGVjdGVkT2JqKSB7XHJcbiAgICAgIGlmIChzZWxlY3RlZE9iai5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHNlbGVjdGVkT2JqW2tleV0pIHtcclxuICAgICAgICBzZWxlY3RlZEFyci5wdXNoKHNlbGVjdGVkT2JqW2tleV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLnByb3BzLm9uU2VsZWN0T3B0aW9uKHNlbGVjdGVkQXJyKTtcclxuICAgIC8vIOa4heepuuWkmumAieaaguWtmFxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7bXVsdGlTZWxlY3RlZDoge319KTtcclxuICAgIC8vIOWPlua2iOWkmumAieeKtuaAgVxyXG4gICAgdGhpcy5tdWx0aVNlbGVjdFRvZ2dsZSgpO1xyXG4gIH0sXHJcbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaGFuZGxlU2VsZWN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5pc011bHRpU2VsZWN0KSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vblNlbGVjdE9wdGlvbih2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMudXBkYXRlTXVsdGlTZWxlY3RlZCh2YWx1ZSk7XHJcbiAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB2YXIgb3B0aW9uTm9kZXMgPSB0aGlzLnByb3BzLm9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24sIGluZGV4KSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGxpIGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImZpbHRlci1pdGVtXCI+XHJcbiAgICAgICAgICA8RmlsdGVyT3B0aW9uIHZhbHVlPXtvcHRpb259IG9uU2VsZWN0PXtoYW5kbGVTZWxlY3R9IGlzTXVsdGlTZWxlY3Q9e3RoaXMuc3RhdGUuaXNNdWx0aVNlbGVjdH0gLz5cclxuICAgICAgICA8L2xpPlxyXG4gICAgICApO1xyXG4gICAgfS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17XCJmaWx0ZXJcIiArICh0aGlzLnN0YXRlLmlzRXhwYW5kZWQgPyBcIiBleHBhbmRlZFwiIDogXCJcIil9PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZFwiPlxyXG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZpbHRlci1uYW1lXCI+e3RoaXMucHJvcHMubmFtZX08L2g0PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvZHlcIj5cclxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJmaWx0ZXItaXRlbXNcIj5cclxuICAgICAgICAgICAge29wdGlvbk5vZGVzfVxyXG4gICAgICAgICAgPC91bD5cclxuXHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheTogdGhpcy5zdGF0ZS5pc011bHRpU2VsZWN0ID8gJ2Jsb2NrJyA6ICdub25lJ319XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXVsdGktY29uZmlybVwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1jb25maXJtXCIgb25DbGljaz17dGhpcy5jb25maXJtTXVsdGlTZWxlY3R9IHR5cGU9XCJidXR0b25cIiBuYW1lPVwiY29uZmlybVwiPuehruWumjwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1jYW5jZWxcIiB0eXBlPVwiYnV0dG9uXCIgbmFtZT1cImNhbmNlbFwiIG9uQ2xpY2s9e3RoaXMubXVsdGlTZWxlY3RUb2dnbGV9PuWPlua2iDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9vdFwiPlxyXG4gICAgICAgICAgPEZpbHRlckFjdGlvblxyXG4gICAgICAgICAgICBtdWx0aVRvZ2dsZVN0YXR1cz17dGhpcy5wcm9wcy5jYW5NdWx0aVNlbGVjdCAmJlxyXG4gICAgICAgICAgICAgICF0aGlzLnN0YXRlLmlzTXVsdGlTZWxlY3R9XHJcbiAgICAgICAgICAgIGV4cGFuZFRvZ2dsZVN0YXR1cz17IXRoaXMuc3RhdGUuaXNFeHBhbmRlZH1cclxuICAgICAgICAgICAgbXVsdGlUb2dnbGU9e3RoaXMubXVsdGlTZWxlY3RUb2dnbGV9XHJcbiAgICAgICAgICAgIGV4cGFuZFRvZ2dsZT17dGhpcy5leHBhbmRUb2dnbGV9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qIOi/h+a7pOWZqOe7hO+8jOacgOWkluWxgue7hOS7tiAqL1xyXG4vKipcclxuICogW3Byb3BzXVxyXG4gKiBmaWx0ZXJEZWZzXHJcbiAqIGZpbHRlclZhbHVlc1xyXG4gKi9cclxudmFyIEZpbHRlckdyb3VwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZmlsdGVyVmFsdWVzOiB0aGlzLnByb3BzLmZpbHRlclZhbHVlcyxcclxuICAgICAgZmlsdGVyU3RhdGU6IHt9XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBmaWx0ZXJWYWx1ZXM6IHt9LFxyXG4gICAgICBvblN0YXRlQ2hhbmdlOiBmdW5jdGlvbiAoKSB7fVxyXG4gICAgfTtcclxuICB9LFxyXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZGVmcyA9IHRoaXMucHJvcHMuZmlsdGVyRGVmc1xyXG4gICAgICAucmVkdWNlKGZ1bmN0aW9uIChkZWZzLCBmaWx0ZXJEZWYpIHtcclxuICAgICAgICBkZWZzW2ZpbHRlckRlZi5maWVsZF0gPSBmaWx0ZXJEZWY7XHJcbiAgICAgICAgcmV0dXJuIGRlZnM7XHJcbiAgICAgIH0sIHt9KTtcclxuICAgIHRoaXMuc2V0U3RhdGUoe2RlZkluZGV4OiBkZWZzfSk7XHJcbiAgfSxcclxuICBzZXRGaWx0ZXJTdGF0ZTogZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNTYW1lU3RhdGUodGhpcy5zdGF0ZS5maWx0ZXJTdGF0ZSwgc3RhdGUpKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2ZpbHRlclN0YXRlOiBzdGF0ZX0pO1xyXG4gICAgfVxyXG4gICAgLy8gdGhpcy5wcm9wcy5vblN0YXRlQ2hhbmdlKHRoaXMuc3RhdGUuZmlsdGVyU3RhdGUpO1xyXG4gIH0sXHJcbiAgYWRkRmlsdGVyU3RhdGU6IGZ1bmN0aW9uIChmaWVsZCwgdmFsdWUpIHtcclxuICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgIHZhciBkZWZzID0gdGhhdC5zdGF0ZS5kZWZJbmRleDtcclxuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGUuZmlsdGVyU3RhdGU7XHJcbiAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgdmFyIGhhc1ZhbHVlID0gISFzdGF0ZVtmaWVsZF07XHJcblxyXG4gICAgaWYgKGRlZnNbZmllbGRdLnRyZWVWaWV3KSB7XHJcbiAgICAgIHZhciBpbmRleE9mVHJlZSA9IGhhc1ZhbHVlID9cclxuICAgICAgICB0aGF0LmZpbmRJbmRleChzdGF0ZVtmaWVsZF0sIHZhbHVlKSA6XHJcbiAgICAgICAgLTE7XHJcbiAgICAgIC8vIOWIpOaWreW9k+WJjeeCueWHu+eahOWSjOS4iuS4gOS4qumAiemhueaYr+WQpuaYr+WQjOS4gOS4quWxgue6p1xyXG4gICAgICB2YXIgaXNTYW1lTGV2ZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCFoYXNWYWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbGVuID0gc3RhdGVbZmllbGRdLmxlbmd0aDtcclxuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gdGhhdC5wcm9wcy5maWx0ZXJWYWx1ZXNbZmllbGRdIHx8IFtdO1xyXG4gICAgICAgIHJldHVybiB0aGF0LmZpbmRJbmRleChjdXJyZW50U3RhdGUsIHZhbHVlKSA+IC0xICYmXHJcbiAgICAgICAgICB0aGF0LmZpbmRJbmRleChjdXJyZW50U3RhdGUsIHN0YXRlW2ZpZWxkXVtsZW4gLSAxXSkgPiAtMTtcclxuICAgICAgfTtcclxuICAgICAgLy8g5b2T5LiA5byA5aeL5rKh5pyJ5YC85oiW54K55Ye755qE5LiN5piv5pyA5ZCO5LiA5Liq5bGC57qn5pe277yM5qCH6K6w54q25oCB5Li65pS55Y+YXHJcbiAgICAgIGNoYW5nZWQgPSAhaGFzVmFsdWUgfHwgKGluZGV4T2ZUcmVlICE9IHN0YXRlW2ZpZWxkXS5sZW5ndGggLSAxKTtcclxuICAgICAgaWYgKGNoYW5nZWQpIHtcclxuICAgICAgICBzdGF0ZVtmaWVsZF0gPSBzdGF0ZVtmaWVsZF0gfHwgW107XHJcbiAgICAgICAgLy8g5aaC5p6c5bey5pyJ5q2k5bGC57qn55qE6YCJ6aG577yM55u05o6l5a6a5L2N5Yiw5q2k5bGC57qnXHJcbiAgICAgICAgaWYgKGluZGV4T2ZUcmVlID49IDApIHtcclxuICAgICAgICAgIHN0YXRlW2ZpZWxkXSA9IHN0YXRlW2ZpZWxkXS5zbGljZSgwLCBpbmRleE9mVHJlZSArIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIC8vIOW9k+S4i+S4gOWxgue6p+eahOmAiemhuei/mOacquWKoOi9veaXtuWPr+iDveWvueWQjOS4gOWxgue6p+eahOmAiemhueWBmuWkmuasoemAieaLqVxyXG4gICAgICAgICAgLy8g5q2k5pe25L+d5oyB5ZCM5LiA5bGC57qn6YCJ5oup55qE5LqS5pal5oCn77yM5oC75piv5Y+q6IO96YCJ5oup5LiA5Liq6YCJ6aG5XHJcbiAgICAgICAgICBpZiAoaXNTYW1lTGV2ZWwoKSkge1xyXG4gICAgICAgICAgICBzdGF0ZVtmaWVsZF0ucG9wKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzdGF0ZVtmaWVsZF0ucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyDpnZ4gdHJlZVZpZXdcclxuICAgIC8vIOaXoOivpSBmaWVsZCDkuIvnmoQgc3RhdGXvvIzmiJYgdmFsdWUg5YC85LiN55u4562J77yM5oiWIHZhbHVlIOaVsOe7hOS4jeebuOetiVxyXG4gICAgZWxzZSBpZiAoIWhhc1ZhbHVlIHx8XHJcbiAgICAgIHZhbHVlLnZhbHVlICE9PSBzdGF0ZVtmaWVsZF0udmFsdWUgfHxcclxuICAgICAgKEFycmF5LmlzQXJyYXkodmFsdWUpICYmICF0aGF0LmlzU2FtZVN0YXRlKHZhbHVlLCBzdGF0ZVtmaWVsZF0pKVxyXG4gICAgKSB7XHJcblxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdGhhdC5yZW1vdmVGaWx0ZXJTdGF0ZShmaWVsZCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgc3RhdGVbZmllbGRdID0gdmFsdWU7XHJcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBmaXJlXHJcbiAgICBpZiAoY2hhbmdlZCkge1xyXG4gICAgICB0aGF0LnNldFN0YXRlKHtmaWx0ZXJTdGF0ZTogc3RhdGV9KTtcclxuICAgICAgdGhhdC5wcm9wcy5vblN0YXRlQ2hhbmdlKHRoaXMuc3RhdGUuZmlsdGVyU3RhdGUpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgcmVtb3ZlRmlsdGVyU3RhdGU6IGZ1bmN0aW9uIChmaWVsZCwgdmFsdWUpIHtcclxuICAgIHZhciBkZWZzID0gdGhpcy5zdGF0ZS5kZWZJbmRleDtcclxuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGUuZmlsdGVyU3RhdGU7XHJcbiAgICB2YXIgaW5kZXhPZlRyZWU7XHJcbiAgICBpZiAoZGVmc1tmaWVsZF0udHJlZVZpZXcpIHtcclxuICAgICAgaW5kZXhPZlRyZWUgPSB0aGlzLmZpbmRJbmRleChzdGF0ZVtmaWVsZF0sIHZhbHVlKTtcclxuICAgICAgaWYgKGluZGV4T2ZUcmVlID09PSAwKSB7XHJcbiAgICAgICAgZGVsZXRlIHN0YXRlW2ZpZWxkXTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChpbmRleE9mVHJlZSA+IDApIHtcclxuICAgICAgICBzdGF0ZVtmaWVsZF0gPSBzdGF0ZVtmaWVsZF0uc2xpY2UoMCwgaW5kZXhPZlRyZWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZGVsZXRlIHN0YXRlW2ZpZWxkXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBmaXJlXHJcbiAgICB0aGlzLnNldFN0YXRlKHtmaWx0ZXJTdGF0ZTogc3RhdGV9KTtcclxuICAgIHRoaXMucHJvcHMub25TdGF0ZUNoYW5nZSh0aGlzLnN0YXRlLmZpbHRlclN0YXRlKTtcclxuICB9LFxyXG4gIGdldEZpbHRlckRlZjogZnVuY3Rpb24gKGZpZWxkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5kZWZJbmRleFtmaWVsZF07XHJcbiAgfSxcclxuXHJcbiAgLy8gdXRpbCBmblxyXG4gIGlzU2FtZVN0YXRlOiBmdW5jdGlvbiAobywgbikge1xyXG4gICAgdmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgaWYgKHRoYXQuaXNFbXB0eU9iaihvKSAmJiAhdGhhdC5pc0VtcHR5T2JqKG4pIHx8XHJcbiAgICAgICF0aGF0LmlzRW1wdHlPYmoobykgJiYgdGhhdC5pc0VtcHR5T2JqKG4pKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGF0LmlzRW1wdHlPYmoobykgJiYgdGhhdC5pc0VtcHR5T2JqKG4pIHx8XHJcbiAgICAgIE9iamVjdC5rZXlzKG8pXHJcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZmllbGQpIHtcclxuICAgICAgICAgIHJldHVybiB0aGF0LnByb3BzLmZpbHRlckRlZnMuaGFzT3duUHJvcGVydHkoZmllbGQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmV2ZXJ5KGZ1bmN0aW9uIChmaWVsZCkge1xyXG4gICAgICAgICAgaWYgKG9bZmllbGRdID09PSBuW2ZpZWxkXSB8fCBvW2ZpZWxkXS52YWx1ZSA9PT0gbltmaWVsZF0udmFsdWUpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9bZmllbGRdKSAmJiBBcnJheS5pc0FycmF5KG5bZmllbGRdKSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBvW2ZpZWxkXS5ldmVyeShmdW5jdGlvbiAob1N0YXRlLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9TdGF0ZSA9PT0gbltmaWVsZF1baW5kZXhdIHx8XHJcbiAgICAgICAgICAgICAgICAgIG9TdGF0ZS52YWx1ZSA9PT0gbltmaWVsZF1baW5kZXhdLnZhbHVlO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gIH0sXHJcbiAgaXNTYW1lVmFsdWVBcnJheTogZnVuY3Rpb24gKG9BcnIsIG5BcnIpIHtcclxuICAgIHJldHVybiBvQXJyLmV2ZXJ5KGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcclxuICAgICAgcmV0dXJuIHZhbHVlLnZhbHVlID09PSBuQXJyW2luZGV4XS52YWx1ZTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgaXNFbXB0eU9iajogZnVuY3Rpb24gKG9iaikge1xyXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xyXG4gIH0sXHJcbiAgLy8g55So5LqO5Zyo6K6+572u5LqGIHRyZWVWaWV3IOmAiemhueeahCBmaWx0ZXIgc3RhdGUg5Lit5a+75om+5bey6YCJ54q25oCB5L2N572uXHJcbiAgZmluZEluZGV4OiBmdW5jdGlvbiAoYXJyLCB2YWx1ZSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKGFycltpXS52YWx1ZSA9PT0gdmFsdWUudmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gaTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0xO1xyXG4gIH0sXHJcblxyXG4gIHJlbmRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGZpbHRlck5vZGVzID0gdGhpcy5wcm9wcy5maWx0ZXJEZWZzLm1hcChmdW5jdGlvbiAoZGVmLCBpbmRleCkge1xyXG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuc3RhdGUuZmlsdGVyVmFsdWVzW2RlZi5maWVsZF0gfHwgW107XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGxpIGtleT17aW5kZXh9IHN0eWxlPXt7ZGlzcGxheTogb3B0aW9ucy5sZW5ndGggPiAwID8gJ2Jsb2NrJyA6ICdub25lJ319PlxyXG4gICAgICAgICAgPEZpbHRlclxyXG4gICAgICAgICAgICBuYW1lPXtkZWYubmFtZX1cclxuICAgICAgICAgICAgZmllbGQ9e2RlZi5maWVsZH1cclxuICAgICAgICAgICAgY2FuTXVsdGlTZWxlY3Q9e2RlZi5jYW5NdWx0aVNlbGVjdH1cclxuICAgICAgICAgICAgdHJlZVZpZXc9e2RlZi50cmVlVmlld31cclxuICAgICAgICAgICAgb3B0aW9ucz17b3B0aW9uc31cclxuICAgICAgICAgICAgb25TZWxlY3RPcHRpb249e3RoaXMuYWRkRmlsdGVyU3RhdGUuYmluZChudWxsLCBkZWYuZmllbGQpfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2xpPlxyXG4gICAgICApO1xyXG4gICAgfS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1LWZpbHRlci1ncm91cFwiPlxyXG4gICAgICAgIDxGaWx0ZXJTdGF0ZUJhclxyXG4gICAgICAgICAgZmlsdGVyU3RhdGU9e3RoaXMuc3RhdGUuZmlsdGVyU3RhdGV9XHJcbiAgICAgICAgICBnZXRGaWx0ZXJEZWY9e3RoaXMuZ2V0RmlsdGVyRGVmfVxyXG4gICAgICAgICAgb25TdGF0ZURlbGV0ZT17dGhpcy5yZW1vdmVGaWx0ZXJTdGF0ZX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICA8L0ZpbHRlclN0YXRlQmFyPlxyXG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJmaWx0ZXItZ3JvdXBcIj5cclxuICAgICAgICAgIHtmaWx0ZXJOb2Rlc31cclxuICAgICAgICA8L3VsPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59KTtcclxuIiwiJ3VzZSBzdHJpY3QnXHJcblxyXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gIENvbXBvbmVudDogUHJvZ3Jlc3NCYXJcclxuLy9cclxuLy8gIEluY2x1ZGU6IFBhZ2luYXRpb25CdG5cclxuLy9cclxuLy8gIFRPRE86XHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyogUGFnaW5hdGlvbkJ0biAqL1xyXG52YXIgUGFnaW5hdGlvbkJ0biA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdGV4dDogMSxcclxuICAgICAgdHlwZTogXCJudW1cIlxyXG4gICAgfTtcclxuICB9LFxyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdGV4dCA9ICh0aGlzLnByb3BzLnR5cGUgPT09ICdkb3QnKSA/ICcuLi4nIDogdGhpcy5wcm9wcy50ZXh0O1xyXG4gICAgdmFyIGl0ZW1DbGFzcyA9IHRoaXMucHJvcHMuYWN0aXZlXHJcbiAgICAgID8gXCJpdGVtIGFjdGl2ZVwiXHJcbiAgICAgIDogXCJpdGVtXCI7XHJcbiAgICBpZih0aGlzLnByb3BzLnR5cGUgIT09ICdudW0nKSB7XHJcbiAgICAgIGl0ZW1DbGFzcyArPSAoXCIgcGFnZSBcIiArIHRoaXMucHJvcHMudHlwZSk7XHJcbiAgICB9XHJcbiAgICBpZih0aGlzLnByb3BzLmRpc2FibGVkKSB7XHJcbiAgICAgIGl0ZW1DbGFzcyArPSAnIGRpc2FibGVkJztcclxuICAgIH1cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxsaSBjbGFzc05hbWU9e2l0ZW1DbGFzc30gb25DbGljaz17dGhpcy5wcm9wcy5jaGFuZ2VQYWdlfT5cclxuICAgICAgICA8YT57dGV4dH08L2E+XHJcbiAgICAgIDwvbGk+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKiBQYWdpbmF0aW9uIE92ZXJ2aWV3ICovXHJcbnZhciBQYWdpT3ZlcnZpZXcgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcnZpZXdcIj7lhbEge3RoaXMucHJvcHMucGFnZXN9IOmhte+8jDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyogUGFnaW5hdGlvbiBRdWlja0dvICovXHJcbnZhciBQYWdpUXVpY2tHbyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcGFnZUlucHV0OiBudWxsXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgaW5wdXRDaGFuZ2U6IGZ1bmN0aW9uKGUpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBwYWdlSW5wdXQ6IGUudGFyZ2V0LnZhbHVlXHJcbiAgICB9KTtcclxuICB9LFxyXG4gIHF1aWNrR286IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYodGhpcy5zdGF0ZS5wYWdlSW5wdXQpIHtcclxuICAgICAgdmFyIG5leHRQYWdlID0gK3RoaXMuc3RhdGUucGFnZUlucHV0O1xyXG4gICAgICBuZXh0UGFnZSA9IG5leHRQYWdlIDwgMSA/IDEgOiBuZXh0UGFnZTtcclxuICAgICAgbmV4dFBhZ2UgPSBuZXh0UGFnZSA+IHRoaXMucHJvcHMucGFnZXMgPyB0aGlzLnByb3BzLnBhZ2VzIDogbmV4dFBhZ2U7XHJcbiAgICAgIHRoaXMucHJvcHMuc2V0QWN0aXZlUGFnZShuZXh0UGFnZSlcclxuICAgIH1cclxuICB9LFxyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInF1aWNrLWdvXCI+XHJcbiAgICAgICAgPHNwYW4+5Yiw56ysPC9zcGFuPlxyXG4gICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJnby1wYWdlXCIgdHlwZT1cIm51bWJlclwiIG1pbj1cIjFcIiBtYXg9e3RoaXMucHJvcHMucGFnZXN9IG9uQ2hhbmdlPXt0aGlzLmlucHV0Q2hhbmdlfSAvPlxyXG4gICAgICAgIDxzcGFuPumhtTwvc3Bhbj5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImdvLXN1Ym1pdFwiIG9uQ2xpY2s9e3RoaXMucXVpY2tHb30+56Gu6K6kPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyogUGFnaW5hdGlvbiBNYWluICovXHJcbnZhciBQYWdpTWFpbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcGFnZUl0ZW1zOiB0aGlzLmdldFBhZ2VJdGVtcyh0aGlzLnByb3BzLmFjdGl2ZVBhZ2UpXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24obmV4dFByb3BzKSB7XHJcbiAgICBpZihuZXh0UHJvcHMuYWN0aXZlUGFnZSAhPT0gdGhpcy5wcm9wcy5hY3RpdmVQYWdlKSB7XHJcbiAgICAgIHZhciBwYWdlSXRlbXMgPSB0aGlzLmdldFBhZ2VJdGVtcyhuZXh0UHJvcHMuYWN0aXZlUGFnZSk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHBhZ2VJdGVtczogcGFnZUl0ZW1zXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnByb3BzLnNlbGVjdGVkKG5leHRQcm9wcy5hY3RpdmVQYWdlKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGhhbmRsZUl0ZW1DbGljazogZnVuY3Rpb24odHlwZSwgcGFnZSkge1xyXG4gICAgaWYgKHR5cGUgPT09IFwiZmlyc3RcIikge1xyXG4gICAgICBwYWdlID0gMTtcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJwcmV2XCIpIHtcclxuICAgICAgcGFnZSA9ICh0aGlzLnByb3BzLmFjdGl2ZVBhZ2UgPT09IDEpID8gMSA6IHRoaXMucHJvcHMuYWN0aXZlUGFnZSAtIDE7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwibmV4dFwiKSB7XHJcbiAgICAgIHBhZ2UgPSAodGhpcy5wcm9wcy5hY3RpdmVQYWdlID09PSB0aGlzLnByb3BzLnBhZ2VzKSA/IHRoaXMucHJvcHMucGFnZXMgOiB0aGlzLnByb3BzLmFjdGl2ZVBhZ2UgKyAxO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcImxhc3RcIikge1xyXG4gICAgICBwYWdlID0gdGhpcy5wcm9wcy5wYWdlcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHBhZ2UgPSBwYWdlO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhZ2UgIT09IHRoaXMucHJvcHMuYWN0aXZlUGFnZSkge1xyXG4gICAgICB0aGlzLnByb3BzLnNldEFjdGl2ZVBhZ2UocGFnZSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBnZXRQYWdlSXRlbXM6IGZ1bmN0aW9uKG4pIHtcclxuICAgIHZhciBsaXN0ID0gW107XHJcbiAgICB2YXIgYiA9IHRoaXMucHJvcHMuYmFzZVBhZ2VzO1xyXG4gICAgdmFyIG0gPSB0aGlzLnByb3BzLm1pZFBhZ2VzO1xyXG4gICAgdmFyIHAgPSB0aGlzLnByb3BzLnBhZ2VzO1xyXG4gICAgaWYobiA8PSBwYXJzZUludChtIC8gMikgKyAxKSB7IC8vIDFcclxuICAgICAgbGlzdCA9IHRoaXMuX2dldFNlcmllc051bWJlcigxLCBwIDw9IGIgKyBtID8gcCA6IG0pO1xyXG4gICAgfSBlbHNlIGlmKChuIDw9IHBhcnNlSW50KG0gLyAyKSArIDEgKyBiKSB8fCBwIDw9IGIgKyBtKSAgeyAvLyAxJ1xyXG4gICAgICBsaXN0ID0gdGhpcy5fZ2V0U2VyaWVzTnVtYmVyKDEsIHAgPD0gYiArIG0gPyBwIDogbiArIDIpO1xyXG4gICAgfSBlbHNlIGlmKChuIDwgcCAtIHBhcnNlSW50KG0gLyAyKSAtIDEpKSB7ICAvLyAyXHJcbiAgICAgIGxpc3QgPSB0aGlzLl9nZXRTZXJpZXNOdW1iZXIoMSwgdGhpcy5wcm9wcy5iYXNlUGFnZXMpO1xyXG4gICAgICBsaXN0LnB1c2goMCk7XHJcbiAgICAgIGxpc3QgPSBsaXN0LmNvbmNhdCh0aGlzLl9nZXRTZXJpZXNOdW1iZXIobi0yLCBtKSk7XHJcbiAgICAgIGlmKHAgPiBtICsgYiArIDIpIHtcclxuICAgICAgICBsaXN0LnB1c2goMCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZihuID09PSBwIC0gcGFyc2VJbnQobSAvIDIpIC0gMSkgeyAgLy8gM1xyXG4gICAgICBsaXN0ID0gdGhpcy5fZ2V0U2VyaWVzTnVtYmVyKDEsIHRoaXMucHJvcHMuYmFzZVBhZ2VzKTtcclxuICAgICAgbGlzdC5wdXNoKDApO1xyXG4gICAgICBsaXN0ID0gbGlzdC5jb25jYXQodGhpcy5fZ2V0U2VyaWVzTnVtYmVyKHAgLSBtLCBtICsgMSkpO1xyXG4gICAgfSBlbHNlIHsgIC8vIDRcclxuICAgICAgbGlzdCA9IHRoaXMuX2dldFNlcmllc051bWJlcigxLCB0aGlzLnByb3BzLmJhc2VQYWdlcyk7XHJcbiAgICAgIGxpc3QucHVzaCgwKTtcclxuICAgICAgbGlzdCA9IGxpc3QuY29uY2F0KHRoaXMuX2dldFNlcmllc051bWJlcihwIC0gbSArIDEsIG0pKTtcclxuICAgIH1cclxuICAgIHJldHVybiBsaXN0O1xyXG4gIH0sXHJcbiAgX2dldFNlcmllc051bWJlcjogZnVuY3Rpb24oc3RhcnQsIGxlbmd0aCkge1xyXG4gICAgc3RhcnQgPSBzdGFydDtcclxuICAgIGxlbmd0aCA9IGxlbmd0aDtcclxuICAgIHZhciBzZXJpZXMgPSBbXTtcclxuICAgIHdoaWxlKGxlbmd0aC0tKSB7XHJcbiAgICAgIHNlcmllcy5wdXNoKHN0YXJ0KyspO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNlcmllcztcclxuICB9LFxyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc3RhcnRCbG9jayA9IFtdO1xyXG4gICAgdmFyIGVuZEJsb2NrID0gW107XHJcbiAgICBpZih0aGlzLnByb3BzLnBhZ2VzID4gMCkge1xyXG4gICAgICBpZih0aGlzLnByb3BzLmZpcnN0KSB7XHJcbiAgICAgICAgc3RhcnRCbG9jay5wdXNoKDxQYWdpbmF0aW9uQnRuIGtleT0nZmlyc3QnIHRleHQ9e3RoaXMucHJvcHMuZmlyc3R9IGRpc2FibGVkPXsodGhpcy5wcm9wcy5hY3RpdmVQYWdlID09PSAxKSA/IHRydWUgOiBmYWxzZX0gdHlwZT1cInByZXZcIiB0eXBlPVwiZmlyc3RcIiBjaGFuZ2VQYWdlPXt0aGlzLmhhbmRsZUl0ZW1DbGljay5iaW5kKHRoaXMsICdmaXJzdCcpfSAvPik7XHJcbiAgICAgIH1cclxuICAgICAgaWYodGhpcy5wcm9wcy5wcmV2KSB7XHJcbiAgICAgICAgc3RhcnRCbG9jay5wdXNoKDxQYWdpbmF0aW9uQnRuIGtleT0ncHJldicgdGV4dD17dGhpcy5wcm9wcy5wcmV2fSBkaXNhYmxlZD17KHRoaXMucHJvcHMuYWN0aXZlUGFnZSA9PT0gMSkgPyB0cnVlIDogZmFsc2V9IHR5cGU9XCJwcmV2XCIgY2hhbmdlUGFnZT17dGhpcy5oYW5kbGVJdGVtQ2xpY2suYmluZCh0aGlzLCAncHJldicpfSAvPik7XHJcbiAgICAgIH1cclxuICAgICAgaWYodGhpcy5wcm9wcy5uZXh0KSB7XHJcbiAgICAgICAgZW5kQmxvY2sucHVzaCg8UGFnaW5hdGlvbkJ0biBrZXk9J25leHQnIHRleHQ9e3RoaXMucHJvcHMubmV4dH0gdHlwZT1cIm5leHRcIiBkaXNhYmxlZD17KHRoaXMucHJvcHMuYWN0aXZlUGFnZSA9PT0gdGhpcy5wcm9wcy5wYWdlcykgPyB0cnVlIDogZmFsc2V9IGNoYW5nZVBhZ2U9e3RoaXMuaGFuZGxlSXRlbUNsaWNrLmJpbmQodGhpcywgJ25leHQnKX0gLz4pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmKHRoaXMucHJvcHMubGFzdCkge1xyXG4gICAgICAgIGVuZEJsb2NrLnB1c2goPFBhZ2luYXRpb25CdG4ga2V5PSdsYXN0JyB0ZXh0PXt0aGlzLnByb3BzLmxhc3R9IHR5cGU9XCJsYXN0XCIgZGlzYWJsZWQ9eyh0aGlzLnByb3BzLmFjdGl2ZVBhZ2UgPT09IHRoaXMucHJvcHMucGFnZXMpID8gdHJ1ZSA6IGZhbHNlfSBjaGFuZ2VQYWdlPXt0aGlzLmhhbmRsZUl0ZW1DbGljay5iaW5kKHRoaXMsICdsYXN0Jyl9IC8+KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPHVsIGNsYXNzTmFtZT1cInBhZ2ktbWFpblwiPlxyXG4gICAgICAgIHtzdGFydEJsb2NrfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICh0aGlzLnByb3BzLnBhZ2VzID4gMCkgJiYgdGhpcy5zdGF0ZS5wYWdlSXRlbXMubWFwKGZ1bmN0aW9uKGl0ZW0sIGkpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPFBhZ2luYXRpb25CdG4ga2V5PXtpfSB0ZXh0PXtpdGVtfSB0eXBlPXtpdGVtID8gJ251bScgOiAnZG90J30gYWN0aXZlPXsoaXRlbSA9PT0gdGhpcy5wcm9wcy5hY3RpdmVQYWdlKSA/IHRydWUgOiBmYWxzZX0gY2hhbmdlUGFnZT17aXRlbSA/IHRoaXMuaGFuZGxlSXRlbUNsaWNrLmJpbmQodGhpcywgJ251bScsIGl0ZW0pIDogbnVsbH0gLz5cclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSlcclxuICAgICAgICB9XHJcbiAgICAgICAge2VuZEJsb2NrfVxyXG4gICAgICA8L3VsPlxyXG4gICAgKVxyXG4gIH1cclxufSk7XHJcblxyXG4vKiBQYWdpbmF0aW9uICovXHJcbnZhciBQYWdpbmF0aW9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIHByb3BUeXBlczoge1xyXG4gICAgcGFnZXM6IFJlYWN0LlByb3BUeXBlcy5udW1iZXJcclxuICB9LFxyXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhY3RpdmVQYWdlOiB0aGlzLnByb3BzLmFjdGl2ZVBhZ2VcclxuICAgIH07XHJcbiAgfSxcclxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYWN0aXZlUGFnZTogMSwgLy8g5r+A5rS76aG15Yid5aeL5YC8XHJcbiAgICAgIGZpcnN0OiBudWxsLCAvLyDpppbpobUgbnVsbCB8fCBzdHJpbmdcclxuICAgICAgcHJldjogXCLkuIrkuIDpobVcIiwgLy8g5LiK5LiA6aG1IG51bGwgfHwgc3RyaW5nXHJcbiAgICAgIGJhc2VQYWdlczogMiwgLy8gZmlyc3QgcHJldiBiYXNlIC4uLiBtaWQgLi4uIG5leHQgbGFzdFxyXG4gICAgICBtaWRQYWdlczogNSwgLy8gZmlyc3QgcHJldiBiYXNlIC4uLiBtaWQgLi4uIG5leHQgbGFzdFxyXG4gICAgICBlbGxpcHNpczogdHJ1ZSwgLy8g55yB55Wl5Y+3IGJvb2xlblxyXG4gICAgICBuZXh0OiBcIuS4i+S4gOmhtVwiLCAvLyDkuIvkuIDpobUgbnVsbCB8fCBzdHJpbmdcclxuICAgICAgbGFzdDogbnVsbCwgLy8g5pyr6aG1IG51bGwgfHwgc3RyaW5nXHJcbiAgICAgIHRoZW1lOiBcImxpZ2h0XCIsIC8vIOS4u+mimFxyXG4gICAgICBxdWlja0dvOiBmYWxzZSwgLy8g5qaC6KeI5ZKM5b+r6YCf5YiH5o2iIGJvb2xlblxyXG4gICAgICBzZWxlY3RlZDogZnVuY3Rpb24ocGFnZSkgeyAvLyDpobXnoIHliIfmjaLml7blm57osINcclxuICAgICAgICBjb25zb2xlLmxvZyhwYWdlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgc2V0QWN0aXZlUGFnZTogZnVuY3Rpb24ocGFnZSkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFjdGl2ZVBhZ2U6IHBhZ2VcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBwYWdpQ2xhc3MgPSAodGhpcy5wcm9wcy50aGVtZSA9PT0gJ2xpZ2h0JykgPyAncGFnaW5hdGlvbicgOiAncGFnaW5hdGlvbiAnICsgdGhpcy5wcm9wcy50aGVtZTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtwYWdpQ2xhc3N9PlxyXG4gICAgICAgIDxQYWdpTWFpbiB7Li4udGhpcy5wcm9wc30gYWN0aXZlUGFnZT17dGhpcy5zdGF0ZS5hY3RpdmVQYWdlfSBzZXRBY3RpdmVQYWdlPXt0aGlzLnNldEFjdGl2ZVBhZ2V9IC8+XHJcbiAgICAgICAge3RoaXMucHJvcHMucXVpY2tHbyA/IDxQYWdpT3ZlcnZpZXcgcGFnZXM9e3RoaXMucHJvcHMucGFnZXN9IC8+IDogbnVsbH1cclxuICAgICAgICB7dGhpcy5wcm9wcy5xdWlja0dvID8gPFBhZ2lRdWlja0dvIHBhZ2VzPXt0aGlzLnByb3BzLnBhZ2VzfSBzZXRBY3RpdmVQYWdlPXt0aGlzLnNldEFjdGl2ZVBhZ2V9IC8+IDogbnVsbH1cclxuICAgICAgPC9kaXY+XHJcbiAgKVxyXG4gIH1cclxufSk7XHJcbiIsIid1c2Ugc3RyaWN0J1xyXG5cclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vICBDb21wb25lbnQ6IFByb2dyZXNzQmFyXHJcbi8vXHJcbi8vICBJbmNsdWRlOiBTcGlubmVyXHJcbi8vXHJcbi8vICBEZXNjcmlwdGlvbjogSnN4IGZvciBQcm9ncmVzc0JhclxyXG4vL1xyXG4vLyAgVE9ETzogW2ZpeF0g5L+u5q2j5Yid5aeL5pe2IHRyYW5zaXRpb24g5LiN55Sf5pWI55qE6Zeu6aKYXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyogU3Bpbm5lciAqL1xyXG52YXIgU3Bpbm5lciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdS1zcGlubmVyXCI+PC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKiBQcm9ncmVzc0JhciAqL1xyXG52YXIgUHJvZ3Jlc3NCYXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJhdGU6IG51bGwsXHJcbiAgICAgIGRvbmU6IGZhbHNlXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHNwZWVkOiAwLjYsICAvLyDliqjnlLvpgJ/luqZcclxuICAgICAgc3Bpbm5lcjogdHJ1ZSwgIC8vIOaYr+WQpuacieWciOWciFxyXG4gICAgICBlYXNpbmc6ICdlYXNlJywgIC8vIOWKqOeUu+e8k+WKqOabsue6v1xyXG4gICAgICBtYXhSYXRlOiAwLjk2LCAgLy8g6L+b5bqm5p2h5pyA5aSn5a695bqmXHJcbiAgICAgIGluY1N0ZXA6IDAuMDQsICAvLyBpbmMg5aKe6ZW/5q2l5bmFXHJcbiAgICAgIG1pblN0ZXA6IDAuMDA1LCAgLy8g6ZqP5py65aKe6ZW/55qE5pyA5bCP5q2l5bmFXHJcbiAgICAgIG1heFN0ZXA6IDAuMDMsICAvLyDpmo/mnLrlop7plb/nmoTmnIDlpKfmraXluYVcclxuICAgICAgdHJpY2tsZTogdHJ1ZSwgIC8vIOaYr+WQpuiHquWKqOWinumVv1xyXG4gICAgICB0cmlja2xlU3BlZWQ6IDgwMCwgIC8vIOiHquWKqOWinumVv+eahOmXtOmalOaXtumXtFxyXG4gICAgICBzZXRUcmlja2xlOiBmYWxzZSAgLy8gc2V0IOWQjuaYr+WQpuiHquWKqOWinumVv++8iOacquWQr+eUqO+8iVxyXG4gICAgfTtcclxuICB9LFxyXG4gIHN0YXJ0OiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuX2luaXQoKTtcclxuICAgIHRoaXMuc2V0KCcwLjUlJyk7XHJcbiAgICB0aGlzLnByb3BzLnRyaWNrbGUgJiYgdGhpcy5fYXV0b0luYygpO1xyXG4gIH0sXHJcbiAgc2V0OiBmdW5jdGlvbihuLCB0cmlja2xlKSB7XHJcbiAgICAhdHJpY2tsZSAmJiB0aGlzLl9pbml0KCk7XHJcbiAgICBuID0gdGhpcy5fZm9ybWF0KG4pO1xyXG4gICAgaWYgKG4gPT09IDEwMCkge1xyXG4gICAgICAvKiBkb25lICovXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHJhdGU6IDEwMFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG4gPSBuID4gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwXHJcbiAgICAgICAgPyB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcclxuICAgICAgICA6IG47XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHJhdGU6IG5cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBpbmM6IGZ1bmN0aW9uKG4pIHtcclxuICAgIHRoaXMuX2luaXQoKTtcclxuICAgIHRoaXMucHJvcHMudHJpY2tsZSAmJiB0aGlzLl9hdXRvSW5jKCk7XHJcbiAgICBuID0gblxyXG4gICAgICA/IHRoaXMuX2Zvcm1hdChuKVxyXG4gICAgICA6IHRoaXMucHJvcHMuaW5jU3RlcCAqIDEwMDtcclxuICAgIHZhciBuZXdSYXRlID0gdGhpcy5zdGF0ZS5yYXRlICsgbjtcclxuICAgIHRoaXMuc2V0KG5ld1JhdGUgKyAnJScsIHRydWUpO1xyXG4gIH0sXHJcbiAgZG9uZTogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnNldCgnMTAwJScpO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgZG9uZTogdHJ1ZVxyXG4gICAgICB9KTtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIHJhdGU6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnNwZWVkICogMiAqIDEwMDApO1xyXG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnNwZWVkICogMTAwMCk7XHJcbiAgfSxcclxuICBfZm9ybWF0OiBmdW5jdGlvbihkYXRhKSB7ICAvLyDmoLzlvI/ljJbkuLogMC0xMDAg55qE5pW05pWwXHJcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7ICAvLyAwLTEg55qE5bCP5pWwXHJcbiAgICAgIHJldHVybiBkYXRhID4gMVxyXG4gICAgICAgID8gdGhpcy5wcm9zLm1heFJhdGUgKiAxMDBcclxuICAgICAgICA6IGRhdGEgKiAxMDA7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgeyAgLy8g55m+5YiG5q+UXHJcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KGRhdGEpID4gMTAwXHJcbiAgICAgICAgPyB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcclxuICAgICAgICA6IHBhcnNlRmxvYXQoZGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfSxcclxuICBfaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnN0YXRlLmRvbmUgJiYgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGRvbmU6IGZhbHNlXHJcbiAgICB9KTtcclxuICAgIHRoaXMudGltZXIgJiYgdGhpcy5fY2xlYXJJbnRlcnZhbCgpO1xyXG4gIH0sXHJcbiAgX2F1dG9JbmM6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG5ld1JhdGU7XHJcbiAgICB2YXIgcmFuZG9tO1xyXG4gICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICByYW5kb20gPSB0aGlzLl9nZXRSYWRvbVN0ZXAoKTtcclxuICAgICAgbmV3UmF0ZSA9IHRoaXMuc3RhdGUucmF0ZSArIHJhbmRvbTtcclxuICAgICAgY29uc29sZS5sb2cocmFuZG9tKTtcclxuICAgICAgaWYgKG5ld1JhdGUgPiB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLm1heFJhdGUgKiAxMDApO1xyXG4gICAgICAgIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uc29sZS5sb2cobmV3UmF0ZSk7XHJcbiAgICAgIHRoaXMuc2V0KG5ld1JhdGUgKyAnJScsIHRydWUpO1xyXG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnRyaWNrbGVTcGVlZCk7XHJcbiAgfSxcclxuICBfY2xlYXJJbnRlcnZhbDogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnRpbWVyICYmIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XHJcbiAgfSxcclxuICBfZ2V0UmFkb21TdGVwOiBmdW5jdGlvbihtaW4sIG1heCkge1xyXG4gICAgbWluID0gbWluIHx8IHRoaXMucHJvcHMubWluU3RlcCAqIDEwMDtcclxuICAgIG1heCA9IG1heCB8fCB0aGlzLnByb3BzLm1heFN0ZXAgKiAxMDA7XHJcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xyXG4gIH0sXHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBwcm9ncmVzc1N0eWxlID0ge1xyXG4gICAgICAvL2Rpc3BsYXk6ICghdGhpcy5zdGF0ZS5yYXRlICYmIHR5cGVvZiB0aGlzLnN0YXRlLnJhdGUgPT09ICdvYmplY3QnKSA/ICdub25lJyA6ICdibG9jaycsXHJcbiAgICAgIG9wYWNpdHk6IHRoaXMuc3RhdGUuZG9uZVxyXG4gICAgICAgID8gMFxyXG4gICAgICAgIDogMSxcclxuICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgJyArIHRoaXMucHJvcHMuc3BlZWQgKiAyICsgJ3MgJyArIHRoaXMucHJvcHMuZWFzaW5nXHJcbiAgICB9O1xyXG4gICAgdmFyIGJhclN0eWxlID0ge1xyXG4gICAgICB3aWR0aDogIXRoaXMuc3RhdGUucmF0ZVxyXG4gICAgICAgID8gMFxyXG4gICAgICAgIDogdGhpcy5zdGF0ZS5yYXRlICsgJyUnLFxyXG4gICAgICB0cmFuc2l0aW9uOiAnd2lkdGggJyArIHRoaXMucHJvcHMuc3BlZWQgKyAncyAnICsgdGhpcy5wcm9wcy5lYXNpbmdcclxuICAgIH07XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5yYXRlXHJcbiAgICAgID8gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3UtcHJvZ3Jlc3NcIiBzdHlsZT17cHJvZ3Jlc3NTdHlsZX0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1LXByb2dyZXNzLWJhclwiIHN0eWxlPXtiYXJTdHlsZX0+PC9kaXY+XHJcbiAgICAgICAgICB7dGhpcy5wcm9wcy5zcGlubmVyXHJcbiAgICAgICAgICAgID8gPFNwaW5uZXIvPlxyXG4gICAgICAgICAgICA6IG51bGx9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgICAgOiBudWxsO1xyXG4gIH1cclxufSk7XHJcbiIsInZhciBUb29sVGlwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0aXA6IFwidGlwXCIsXHJcbiAgICAgICAgICAgIHRyaWdnZXI6ICdob3ZlcicsXHJcbiAgICAgICAgICAgIGRlbGF5OiAwLFxyXG4gICAgICAgICAgICBob3ZlcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJ0aXBcIixcclxuICAgICAgICAgICAgd2lkdGg6IFwiMjAwcHhcIixcclxuICAgICAgICAgICAgdHlwZTogJ3NwYW4nLFxyXG4gICAgICAgICAgICBhSHJlZjogXCIjXCJcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucHJvcHMucG9zaXRpb24sXHJcbiAgICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNPblRpcDogZmFsc2UsXHJcbiAgICAgICAgICAgIHRpcEhlaWdodDogXCJcIlxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlTW91c2VPdmVyOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50cmlnZ2VyPT1cImhvdmVyXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IHRydWV9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlTW91c2VPdXQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnRyaWdnZXI9PVwiaG92ZXJcIikge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5pc09uVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSAsIHRoaXMucHJvcHMuZGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHJpZ2dlcj09XCJjbGlja1wiKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYoIXRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiB0cnVlfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlVGlwTW91c2VPdmVyOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy5ob3ZlcmFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNPblRpcDogdHJ1ZX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYW5kbGVUaXBNb3VzZU91dDogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMuaG92ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzT25UaXA6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0VGlwUG9zaXRpb24oKTtcclxuICAgIH0sXHJcbiAgICBzZXRUaXBQb3NpdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHRpcCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpO1xyXG4gICAgICAgIHZhciBjb250ID0gdGhpcy5yZWZzLmNvbnQuZ2V0RE9NTm9kZSgpO1xyXG4gICAgICAgIGlmKCF0aGlzLmZsYWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS50aXBIZWlnaHQgPSB0aXAub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmZsYWcgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdGlwV2lkdGggPSB0aXAub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdmFyIHRpcEhlaWdodCA9IHRpcC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgdmFyIGNvbnRXaWR0aCA9IGNvbnQub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdmFyIGNvbnRIZWlnaHQgPSBjb250Lm9mZnNldEhlaWdodDtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUucG9zaXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjp0aXAuc3R5bGUudG9wID0gLSh0aXBIZWlnaHQtY29udEhlaWdodCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aCsyMCkrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOnRpcC5zdHlsZS50b3AgPSAtKHRpcEhlaWdodC1jb250SGVpZ2h0KS8yK1wicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwidG9wXCI6dGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoLWNvbnRXaWR0aCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5ib3R0b20gPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6dGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoLWNvbnRXaWR0aCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS50b3AgPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OiB0aXAuc3R5bGUudG9wID0gLSh0aXBIZWlnaHQtY29udEhlaWdodCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoKzIwKStcInB4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRpcC5zdHlsZS5oZWlnaHQgPSB0aGlzLnN0YXRlLnRpcEhlaWdodC0yMCtcInB4XCI7XHJcbiAgICAgICAgdGhpcy5wcmV2ZXJ0VGlwT3ZlcmZsb3coKTtcclxuICAgIH0sXHJcbiAgICBwcmV2ZXJ0VGlwT3ZlcmZsb3c6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB0aXBYID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICAgICAgICB2YXIgdGlwWSA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgICAgICB2YXIgdGlwV2lkdGggPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5vZmZzZXRXaWR0aDtcclxuICAgICAgICB2YXIgdGlwSGVpZ2h0ID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIHZhciBhdmFpbFdpZHRoID0gcGFyc2VJbnQoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCk7XHJcbiAgICAgICAgaWYodGlwWCA8IDAgJiYgdGlwWCt0aXBXaWR0aCA+IGF2YWlsV2lkdGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRpcFggPCAwKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcInRvcFwifSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJ0b3BcIiB8fCB0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwiYm90dG9tXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcInJpZ2h0XCJ9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGlwWCt0aXBXaWR0aCA+IGF2YWlsV2lkdGgpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcInJpZ2h0XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcImJvdHRvbVwifSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJib3R0b21cIiB8fCB0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwidG9wXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcImxlZnRcIn0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAgZ2V0VGlwU3R5bGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMuc3RhdGUuaXNBY3RpdmU/XCJibG9ja1wiOlwibm9uZVwiLFxyXG4gICAgICAgICAgICBjb2xvcjogXCJwaW5rXCIsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzMzXCIsXHJcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwic3BhblwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widG9vbHRpcCBcIit0aGlzLnN0YXRlLnBvc2l0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVUaXBNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlVGlwTW91c2VPdXR9IGNsYXNzTmFtZT1cInRpcFwiIHJlZj1cInRpcFwiIHN0eWxlPXt0aGlzLmdldFRpcFN0eWxlKCl9Pnt0aGlzLnByb3BzLnRpcH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50eXBlPT1cImFcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5hSHJlZn0gcmVmPVwiY29udFwiIG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZU1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVNb3VzZU91dH0gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHlwZT09XCJidXR0b25cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZVRpcE1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVUaXBNb3VzZU91dH0gY2xhc3NOYW1lPVwidGlwXCIgcmVmPVwidGlwXCIgc3R5bGU9e3RoaXMuZ2V0VGlwU3R5bGUoKX0+e3RoaXMucHJvcHMudGlwfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==