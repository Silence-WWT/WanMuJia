function getSearchData(r){r.params=r.params||location.search.slice(1),$.ajax({url:"/item/filter",type:"GET",data:"string"==typeof r.params?r.params:$.param(r.params,!0),beforeSend:r.beforeSend,complete:r.complete,success:r.done,fail:r.fail})}function filterValuesMapping(r){return Object.keys(r).reduce(function(e,t){var a=r[t];return e[t]=Object.keys(a).map(function(r){return{id:r,value:a[r][t]}}),e},{})}function genUrlQuery(r){var e=Object.keys(r.filterSelected).reduce(function(e,t){var a=r.filterSelected[t];return e[t]=r.isFromFilter?Array.isArray(a)?a.map(function(r){return r.id}):a.id:Object.keys(a),e},{});return r.otherParams.order&&(e.order=r.otherParams.order),r.otherParams.page&&(e.page=r.otherParams.page),r.otherParams.search&&(e.search=r.otherParams.search),e}function HistoryWatcher(r){this.supportedHistoryAPI()&&(window.onpopstate=r)}HistoryWatcher.prototype.supportedHistoryAPI=function(){return window.history.pushState?!0:!1},HistoryWatcher.prototype.addHistory=function(r,e){this.supportedHistoryAPI()?window.history.pushState(r,"search",e):window.location.search=e};